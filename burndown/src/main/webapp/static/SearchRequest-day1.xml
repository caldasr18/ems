<!--
RSS generated by JIRA (5.2.5#847-sha1:7fd7dd6f72035074370cfd27de760a25c1261256) at Tue May 14 18:31:10 CEST 2013

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary add field=key&field=summary to the URL of your request.
For example:
https://jira.billpay.intern/sr/jira.issueviews:searchrequest-xml/11470/SearchRequest-11470.xml?tempMax=1000&field=key&field=summary
-->
<!-- If you wish to do custom client-side styling of RSS, uncomment this:
<?xml-stylesheet href="https://jira.billpay.intern/styles/jiraxml2html.xsl" type="text/xsl"?>
-->
<rss version="0.92">
    <channel>
        <title>49. Sprint Preliminary (Billpay Ticketsystem)</title>
        <link>https://jira.billpay.intern/secure/IssueNavigator.jspa?requestId=11470</link>
        <description>An XML representation of a search request</description>
                <language>en-uk</language>
                        <issue start="0" end="29" total="29"/>
                <build-info>
            <version>5.2.5</version>
            <build-number>847</build-number>
            <build-date>14-01-2013</build-date>
        </build-info>
<item>
            <title>[IPL-10808] PA by amount - Partial Cancel </title>
                <link>https://jira.billpay.intern/browse/IPL-10808</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;div class="panel" style="background-color: #FFFFCE;border-color: #ccc;border-style: dashed;border-width: 1px;"&gt;&lt;div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: dashed;border-bottom-color: #ccc;background-color: #F7D6C1;"&gt;&lt;b&gt;Introduction&lt;/b&gt;&lt;/div&gt;&lt;div class="panelContent" style="background-color: #FFFFCE;"&gt;
&lt;p&gt;Merchant should be able to partial activate orders by only providing the activation amount via API &amp;amp; BO&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class="panel" style="background-color: #FFFFCE;border-color: #ccc;border-style: dashed;border-width: 1px;"&gt;&lt;div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: dashed;border-bottom-color: #ccc;background-color: #F7D6C1;"&gt;&lt;b&gt;Description&lt;/b&gt;&lt;/div&gt;&lt;div class="panelContent" style="background-color: #FFFFCE;"&gt;
&lt;table class='confluenceTable'&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class='confluenceTh'&gt;As-Is-Status&lt;/th&gt;
&lt;th class='confluenceTh'&gt;Should-Be-Status&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class='confluenceTd'&gt;Currently an order can be activated with or w/o articles,that means when no acticle details are provided. Partial activation requests contain negative rebate only and no cart&lt;/td&gt;
&lt;td class='confluenceTd'&gt;We need to do some additional adaptions when doing so, in order to avoid confusion&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;




&lt;h3&gt;&lt;a name="ChanginganorderviaBO"&gt;&lt;/a&gt;Changing an order via BO&lt;/h3&gt;

&lt;p&gt;&lt;b&gt;As-Is:&lt;/b&gt; In the BO, changes of the order can only be done on the main order and are applied via partial cancel request to main and sub orders.&lt;br/&gt;
&lt;b&gt;Should-Be:&lt;/b&gt; In the BO, changes are made on main and suborders if partial activation is enabled. In this case, changes are applied via edit_cart_content request through a user friendly GUI.&lt;/p&gt;

&lt;p&gt;The following chart illustrates which parts of the GUI for modifying an order should be displayed under which conditions:&lt;/p&gt;

&lt;p&gt;&lt;img src="https://jira.billpay.intern/secure/attachment/24526/24526_No_Cart_Condition_22.04.2013.png" align="absmiddle" border="0" /&gt;&lt;/p&gt;

&lt;p&gt;When partial acitvation is enabled, all changes are applied via a special dialog that is opened when the user clicks on "Teilstorno" / "update order". This dialog results in an editCartContent request. The main order view in this case is read-only. &lt;/p&gt;

&lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; when partial activation is disabled, changes to the order are preformed using the main order form. The GUI elements affected are display in the image in section "Fix display logic for activation button".&lt;/p&gt;

&lt;p&gt;There exist two different views for the editCartContent dialog:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;View 1: Amount based ECC dialog when partial activation is enabled ("no cart" condition is true)&lt;/b&gt;&lt;br/&gt;
&lt;img src="https://jira.billpay.intern/secure/attachment/24524/24524_Cancel_dialog_no_cart_22.04.2013.png" align="absmiddle" border="0" /&gt;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;View 2: Item based ECC dialog when partial activation is enabled ("no cart" condition is false)&lt;/b&gt;&lt;br/&gt;
&lt;img src="https://jira.billpay.intern/secure/attachment/24525/24525_Cancel_Dialog_Cart_Based_22.04.2013.png" align="absmiddle" border="0" height="800" width="800" /&gt;&lt;/p&gt;


&lt;p&gt;The data displayed in the image for the amount based ECC dialog corresponds to the editCartContent request that looks as follows (it is not necessary to generate the full XML request. Instead some fragments should be used to call the respective stored:&lt;/p&gt;

&lt;div class="code panel" style="border-width: 1px;"&gt;&lt;div class="codeContent panelContent"&gt;
&lt;pre class="code-java"&gt;
&amp;lt;?xml version=&lt;span class="code-quote"&gt;"1.0"&lt;/span&gt; encoding=&lt;span class="code-quote"&gt;"UTF-8"&lt;/span&gt;?&amp;gt;
&amp;lt;data api_version=&lt;span class="code-quote"&gt;"1.5.3"&lt;/span&gt;&amp;gt;
	&amp;lt;default_params mid=&lt;span class="code-quote"&gt;"1"&lt;/span&gt; pid=&lt;span class="code-quote"&gt;"1"&lt;/span&gt;
		bpsecure=&lt;span class="code-quote"&gt;"0cc175b9c0f1b6a831c399e269772661"&lt;/span&gt; /&amp;gt;
	&amp;lt;total shippingname=&lt;span class="code-quote"&gt;"n/a"&lt;/span&gt; shippingprice=&lt;span class="code-quote"&gt;"126"&lt;/span&gt;
		shippingpricegross=&lt;span class="code-quote"&gt;"0"&lt;/span&gt; rebate=&lt;span class="code-quote"&gt;"0"&lt;/span&gt; rebategross=&lt;span class="code-quote"&gt;"0"&lt;/span&gt; carttotalprice=&lt;span class="code-quote"&gt;"3900"&lt;/span&gt;
		carttotalpricegross=&lt;span class="code-quote"&gt;"3900"&lt;/span&gt; currency=&lt;span class="code-quote"&gt;"EUR"&lt;/span&gt; reference=&lt;span class="code-quote"&gt;"REF007"&lt;/span&gt; /&amp;gt;
	&amp;lt;article_data&amp;gt;
		&amp;lt;article articleid=&lt;span class="code-quote"&gt;"BP_NO_CART"&lt;/span&gt; articlequantity=&lt;span class="code-quote"&gt;"1"&lt;/span&gt;
			articlename=&lt;span class="code-quote"&gt;"Ihre Bestellung bei home24.de"&lt;/span&gt; articleprice=&lt;span class="code-quote"&gt;"3900"&lt;/span&gt;
			articlepricegross=&lt;span class="code-quote"&gt;"3900"&lt;/span&gt; /&amp;gt;
	&amp;lt;/article_data&amp;gt;
	&amp;lt;invoice_list&amp;gt;
		&amp;lt;invoice invoice_number=&lt;span class="code-quote"&gt;"REF007/1"&lt;/span&gt;&amp;gt;
			&amp;lt;invoice_params carttotalpricegross=&lt;span class="code-quote"&gt;"2600"&lt;/span&gt;
				carttotalprice=&lt;span class="code-quote"&gt;"2600"&lt;/span&gt; rebate=&lt;span class="code-quote"&gt;"-2600"&lt;/span&gt; rebategross=&lt;span class="code-quote"&gt;"-2600"&lt;/span&gt; shippingprice=&lt;span class="code-quote"&gt;"0"&lt;/span&gt;
				shippingpricegross=&lt;span class="code-quote"&gt;"0"&lt;/span&gt; currency=&lt;span class="code-quote"&gt;"EUR"&lt;/span&gt; /&amp;gt;
		&amp;lt;/invoice&amp;gt;
		&amp;lt;invoice invoice_number=&lt;span class="code-quote"&gt;"REF007/2"&lt;/span&gt;&amp;gt;
			&amp;lt;invoice_params carttotalpricegross=&lt;span class="code-quote"&gt;"700"&lt;/span&gt;
				carttotalprice=&lt;span class="code-quote"&gt;"700"&lt;/span&gt; rebate=&lt;span class="code-quote"&gt;"-700"&lt;/span&gt; rebategross=&lt;span class="code-quote"&gt;"-700"&lt;/span&gt; shippingprice=&lt;span class="code-quote"&gt;"0"&lt;/span&gt;
				shippingpricegross=&lt;span class="code-quote"&gt;"0"&lt;/span&gt; currency=&lt;span class="code-quote"&gt;"EUR"&lt;/span&gt; /&amp;gt;
		&amp;lt;/invoice&amp;gt;
	&amp;lt;/invoice_list&amp;gt;
&amp;lt;/data&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; Class ProcessEditCartContentProc.java can be used to perform the editCartContent request by invoking stored procedure ipl_api.process_edit_cart_content.&lt;/p&gt;

&lt;h3&gt;&lt;a name="DeclinePCrequestswhenthe%22Nocart%22conditionistrue"&gt;&lt;/a&gt;Decline PC requests when the "No cart" condition is true&lt;/h3&gt;
&lt;p&gt;Adjust ipaylater_customer.partial_cancel_order and return new error code and error messages. That way the check will also be done from PCs initiated in the BO (although doing a PC via BO should not be possible anymore because their is no GUI for it anymore).&lt;/p&gt;


&lt;h3&gt;&lt;a name="Createregressiontestsforpartialactivationandcancellationbyamount."&gt;&lt;/a&gt;Create regression tests for partial activation and cancellation by amount.&lt;/h3&gt;


&lt;h3&gt;&lt;a name="EMails%28thisisforadiffrentuserstory%29"&gt;&lt;/a&gt;E-Mails (this is for a diffrent user story)&lt;/h3&gt;
&lt;p&gt;All merchants, we allow (know how to do this) activation by amount, we should provide them a custom activation - , parcel_cancel- and edit_cart_content - e-mail, in order to avoid confusion with "empty" artikel etc. This will be possible, when &lt;a href="https://jira.billpay.intern/browse/IPL-9079" title="Customizable templates for all UMS emails"&gt;&lt;del&gt;IPL-9079&lt;/del&gt;&lt;/a&gt; is done.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;

</description>
                <environment/>
            <key id="25113">IPL-10808</key>
            <summary>PA by amount - Partial Cancel </summary>
                <type id="6" iconUrl="https://jira.billpay.intern/images/icons/silk/user_comment.png">User Story</type>
                                <priority id="1" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_red.png">1 (Dringend Wichtig)</priority>
                    <status id="10014" iconUrl="https://jira.billpay.intern/images/icons/silk/thumb_up.png">Specified</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="skuhn">Stefan Kuhn</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Apr 2013 12:45:37 +0200</created>
                <updated>Tue, 14 May 2013 12:53:01 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>application - background</component>
                        <due/>
                    <votes>0</votes>
                        <watches>3</watches>
                                                    <aggregatetimeoriginalestimate seconds="187200">1 week, 1 day, 4 hours</aggregatetimeoriginalestimate>
                        <aggregatetimeremainingestimate seconds="187200">1 week, 1 day, 4 hours</aggregatetimeremainingestimate>
                                          <issuelinks>
                        <issuelinktype id="10020">
                <name>association</name>
                                <outwardlinks description="belongs to">
                            <issuelink>
            <issuekey id="23781">IPL-9889</issuekey>
        </issuelink>
                    </outwardlinks>
                                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="24525" name="Cancel_Dialog_Cart_Based_22.04.2013.png" size="224304" author="skuhn" created="Wed, 24 Apr 2013 14:05:24 +0200"/>
                    <attachment id="24524" name="Cancel_dialog_no_cart_22.04.2013.png" size="30080" author="skuhn" created="Wed, 24 Apr 2013 14:05:24 +0200"/>
                    <attachment id="24523" name="Dialog_aktivierung_22.04.2013.png" size="43558" author="skuhn" created="Wed, 24 Apr 2013 14:05:24 +0200"/>
                    <attachment id="24526" name="No_Cart_Condition_22.04.2013.png" size="21290" author="skuhn" created="Wed, 24 Apr 2013 14:05:50 +0200"/>
                </attachments>
            <subtasks>
            <subtask id="25123">IPL-10818</subtask>
            <subtask id="25355">IPL-10975</subtask>
            <subtask id="25357">IPL-10977</subtask>
            <subtask id="25358">IPL-10978</subtask>
            <subtask id="25359">IPL-10979</subtask>
            <subtask id="25360">IPL-10980</subtask>
            <subtask id="25362">IPL-10982</subtask>
            <subtask id="25368">IPL-10988</subtask>
        </subtasks>
                <customfields>
                                                    <customfield id="customfield_10072" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                <customfieldname>Software Function</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10321"><![CDATA[decision engine]]></customfieldvalue>

                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                <customfieldname>StoryPoints</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10032"><![CDATA[13]]></customfieldvalue>

                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>

<item>
            <title>[IPL-10807] PA by amount - Partial Activation (BO&amp;Bug)</title>
                <link>https://jira.billpay.intern/browse/IPL-10807</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;div class="panel" style="background-color: #FFFFCE;border-color: #ccc;border-style: dashed;border-width: 1px;"&gt;&lt;div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: dashed;border-bottom-color: #ccc;background-color: #F7D6C1;"&gt;&lt;b&gt;Introduction&lt;/b&gt;&lt;/div&gt;&lt;div class="panelContent" style="background-color: #FFFFCE;"&gt;
&lt;p&gt;Merchant should be able to partial activate orders by only providing the activation amount via API &amp;amp; BO&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class="panel" style="background-color: #FFFFCE;border-color: #ccc;border-style: dashed;border-width: 1px;"&gt;&lt;div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: dashed;border-bottom-color: #ccc;background-color: #F7D6C1;"&gt;&lt;b&gt;Description&lt;/b&gt;&lt;/div&gt;&lt;div class="panelContent" style="background-color: #FFFFCE;"&gt;
&lt;table class='confluenceTable'&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class='confluenceTh'&gt;As-Is-Status&lt;/th&gt;
&lt;th class='confluenceTh'&gt;Should-Be-Status&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class='confluenceTd'&gt;Currently an order can be activated with or w/o articles,that means when no acticle details are provided. Partial activation requests contain negative rebate only and no cart&lt;/td&gt;
&lt;td class='confluenceTd'&gt;We need to do some additional adaptions when doing so, in order to avoid confusion&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;



&lt;h3&gt;&lt;a name="%22Nocart%22orders"&gt;&lt;/a&gt;"No cart" orders&lt;/h3&gt;
&lt;p&gt;Merchants who want to use partial activation by amount typically cannot provide any cart details, neither in the preauthorize/prescore requests nor in the activation request.&lt;/p&gt;

&lt;p&gt;Our system in many places relies on the presence of cart data. So far we can send preauthorize requests with a single item and partially activate orders by a negative rebate. But mainly the BO design look&amp;amp;feel in this case is not very intuitive.&lt;/p&gt;

&lt;p&gt;Therefore we introduce the notion of "No cart" orders. When we receive such an order from the merchant the BO look&amp;amp;feel should be a different one compared to normal orders.&lt;/p&gt;


&lt;table class='confluenceTable'&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class='confluenceTd'&gt;Conditions for a main order without cart (&lt;b&gt;"No cart" condition&lt;/b&gt;):&lt;br/&gt;
-&amp;gt; Either in the cart exists at least one article with article ID &lt;b&gt;BP_NO_CART&lt;/b&gt;&lt;br/&gt;
-&amp;gt; Or mrc_process_by_amount = true&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;h3&gt;&lt;a name="Newmerchantconfiguration"&gt;&lt;/a&gt;New merchant configuration&lt;/h3&gt;
&lt;p&gt;Create boolean column mrc_process_by_amount (default: false) and display checkbox in the BO.&lt;/p&gt;

&lt;h3&gt;&lt;a name="Requests"&gt;&lt;/a&gt;Requests&lt;/h3&gt;
&lt;p&gt;"NO CART" request (preauthorize):&lt;/p&gt;
&lt;div class="code panel" style="border-width: 1px;"&gt;&lt;div class="codeContent panelContent"&gt;
&lt;pre class="code-java"&gt;
&amp;lt;?xml version=&lt;span class="code-quote"&gt;"1.0"&lt;/span&gt; encoding=&lt;span class="code-quote"&gt;"UTF-8"&lt;/span&gt;?&amp;gt;
&amp;lt;data tcaccepted=&lt;span class="code-quote"&gt;"1"&lt;/span&gt; expecteddaystillshipping=&lt;span class="code-quote"&gt;"0"&lt;/span&gt;
	capturerequestnecessary=&lt;span class="code-quote"&gt;"0"&lt;/span&gt; paymenttype=&lt;span class="code-quote"&gt;"1"&lt;/span&gt; api_version=&lt;span class="code-quote"&gt;"1.5.1"&lt;/span&gt;&amp;gt;
	&amp;lt;default_params mid=&lt;span class="code-quote"&gt;"1"&lt;/span&gt; pid=&lt;span class="code-quote"&gt;"1"&lt;/span&gt;
		bpsecure=&lt;span class="code-quote"&gt;"0cc175b9c0f1b6a831c399e269772661"&lt;/span&gt; /&amp;gt;
	&amp;lt;customer_details customertype=&lt;span class="code-quote"&gt;"n"&lt;/span&gt;
		salutation=&lt;span class="code-quote"&gt;"Herr"&lt;/span&gt; title=&lt;span class="code-quote"&gt;"" firstName="&lt;/span&gt;Bill&lt;span class="code-quote"&gt;" lastName="&lt;/span&gt;Payman"
		street=&lt;span class="code-quote"&gt;"Zinnowitzer Str."&lt;/span&gt; streetNo=&lt;span class="code-quote"&gt;"1"&lt;/span&gt; addressAddition=&lt;span class="code-quote"&gt;"" zip="&lt;/span&gt;10115"
		city=&lt;span class="code-quote"&gt;"Berlin"&lt;/span&gt; country=&lt;span class="code-quote"&gt;"DEU"&lt;/span&gt; email=&lt;span class="code-quote"&gt;"it-sw@billpay.de"&lt;/span&gt; phone=""
		cellPhone=&lt;span class="code-quote"&gt;"" birthday="&lt;/span&gt;19770707&lt;span class="code-quote"&gt;" language="&lt;/span&gt;de&lt;span class="code-quote"&gt;" ip="&lt;/span&gt;127.0.0.1"
		customerGroup=&lt;span class="code-quote"&gt;"p"&lt;/span&gt; /&amp;gt;
	&amp;lt;shipping_details useBillingAddress=&lt;span class="code-quote"&gt;"1"&lt;/span&gt; /&amp;gt;
	&amp;lt;total shippingname=&lt;span class="code-quote"&gt;"n/a"&lt;/span&gt; shippingprice=&lt;span class="code-quote"&gt;"0"&lt;/span&gt;
		shippingpricegross=&lt;span class="code-quote"&gt;"0"&lt;/span&gt; rebate=&lt;span class="code-quote"&gt;"0"&lt;/span&gt; rebategross=&lt;span class="code-quote"&gt;"0"&lt;/span&gt; carttotalprice=&lt;span class="code-quote"&gt;"25900"&lt;/span&gt;
		carttotalpricegross=&lt;span class="code-quote"&gt;"25900"&lt;/span&gt; currency=&lt;span class="code-quote"&gt;"EUR"&lt;/span&gt; reference=&lt;span class="code-quote"&gt;"REF007"&lt;/span&gt;&amp;gt;&amp;lt;/total&amp;gt;
	&amp;lt;article_data&amp;gt;
		&amp;lt;article articleid=&lt;span class="code-quote"&gt;"BP_NO_CART"&lt;/span&gt; articlequantity=&lt;span class="code-quote"&gt;"1"&lt;/span&gt; articlename=&lt;span class="code-quote"&gt;"Ihre Bestellung bei home24.de"&lt;/span&gt;
			articleprice=&lt;span class="code-quote"&gt;"25900"&lt;/span&gt; articlepricegross=&lt;span class="code-quote"&gt;"25900"&lt;/span&gt; /&amp;gt;
	&amp;lt;/article_data&amp;gt;
&amp;lt;/data&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;"Partial activation by amount" request (already works like it is). The merchant has to provide the activation amount as negative value in fields rebate/rebategross and positive value in fields carttotalgross/carttotalprice of the partial version of the invoiceCreated request.&lt;/p&gt;
&lt;div class="code panel" style="border-width: 1px;"&gt;&lt;div class="codeContent panelContent"&gt;
&lt;pre class="code-java"&gt;
&amp;lt;?xml version=&lt;span class="code-quote"&gt;"1.0"&lt;/span&gt; encoding=&lt;span class="code-quote"&gt;"UTF-8"&lt;/span&gt; ?&amp;gt;
&amp;lt;data api_version=&lt;span class="code-quote"&gt;"1.5.6"&lt;/span&gt;&amp;gt;
	&amp;lt;default_params mid=&lt;span class="code-quote"&gt;"1"&lt;/span&gt; pid=&lt;span class="code-quote"&gt;"1"&lt;/span&gt;
		bpsecure=&lt;span class="code-quote"&gt;"0cc175b9c0f1b6a831c399e269772661"&lt;/span&gt; /&amp;gt;
	&amp;lt;invoice_params carttotalgross=&lt;span class="code-quote"&gt;"5500"&lt;/span&gt; currency=&lt;span class="code-quote"&gt;"EUR"&lt;/span&gt;
		reference=&lt;span class="code-quote"&gt;"REF007"&lt;/span&gt; delayindays=&lt;span class="code-quote"&gt;"0"&lt;/span&gt; is_partial=&lt;span class="code-quote"&gt;"1"&lt;/span&gt; invoice_number=&lt;span class="code-quote"&gt;"REF007/1"&lt;/span&gt;
		shippingname=&lt;span class="code-quote"&gt;"" shippingprice="&lt;/span&gt;0&lt;span class="code-quote"&gt;" shippingpricegross="&lt;/span&gt;0&lt;span class="code-quote"&gt;" rebate="&lt;/span&gt;-5500"
		rebategross=&lt;span class="code-quote"&gt;"-5500"&lt;/span&gt; carttotalprice=&lt;span class="code-quote"&gt;"5500"&lt;/span&gt;&amp;gt;
	&amp;lt;/invoice_params&amp;gt;
&amp;lt;/data&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Partial activation requests like this can already be sent via API. Via BO the GUI validation logic currently disallows to provide negative rebate. In any way the BO GUI will be changed at that point (see section &lt;b&gt;Activation dialog in BO&lt;/b&gt;).&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; Typically there will be no tax values or cart details provided in the preauthorize and invoiceCreated request. However if the information is provided, we have to process store/process it the usual way.&lt;/p&gt;


&lt;h3&gt;&lt;a name="ActivationdialoginBO"&gt;&lt;/a&gt;Activation dialog in BO&lt;/h3&gt;
&lt;p&gt;Currently, there are two different views for the activation dialog in the BO: When partial activation is deactivated (mrc_partial_activation_enabled=false), a Yes/No dialog is shown in order to either fully activate the order or cancel the operation. When partial activation is enabled (mrc_partial_activation_enabled=true) the unactivated part of the main order is displayed in order to allow for activation of the remaining items/shipping/rebate. For activation of "No cart" orders we will provide a third view.&lt;/p&gt;

&lt;p&gt;This diagram illustrates which view of the activation dialog is shown under which conditions:&lt;br/&gt;
&lt;img src="https://jira.billpay.intern/secure/attachment/24527/24527_Tree_22.04.2013.png" align="absmiddle" border="0" /&gt;&lt;/p&gt;

&lt;p&gt;We have to adjust the function that decides which dialog to show: if partial activation is enabled and the main order is a "No cart" order, then display a dialog view where the user can insert the desired amount for activation:&lt;/p&gt;

&lt;p&gt;&lt;img src="https://jira.billpay.intern/secure/attachment/24528/24528_Dialog_aktivierung_22.04.2013.png" align="absmiddle" border="0" height="600" width="800" /&gt;&lt;/p&gt;

&lt;ul class="alternate" type="square"&gt;
	&lt;li&gt;Pressing the submit button will create the "Partial activation by amount" request in section &lt;b&gt;Requests&lt;/b&gt;.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class="alternate" type="square"&gt;
	&lt;li&gt;Activation amount must be positive (resulting in a negative rebate=rebategross for the acitivation request).&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class="alternate" type="square"&gt;
	&lt;li&gt;The text field with stepper should by prefilled with the unactivated amount of the main order, i.e.
&lt;div class="code panel" style="border-width: 1px;"&gt;&lt;div class="codeContent panelContent"&gt;
&lt;pre class="code-java"&gt;
co_order_total_worth(main_order) - sum(co_order_total_worth(sub_orders))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class="alternate" type="square"&gt;
	&lt;li&gt;The maximum amount of the text field with stepper should be the unactivated amount of the main order.&lt;/li&gt;
&lt;/ul&gt;


&lt;h3&gt;&lt;a name="Fixdisplaylogicforactivationbutton"&gt;&lt;/a&gt;Fix display logic for activation button&lt;/h3&gt;
&lt;p&gt;&lt;b&gt;1)&lt;/b&gt; The activation button in the BO should not be displayed when the whole main order amount is used by suborders:&lt;/p&gt;

&lt;div class="code panel" style="border-width: 1px;"&gt;&lt;div class="codeContent panelContent"&gt;
&lt;pre class="code-java"&gt;
co_order_total_worth(main_order) = sum(co_order_total_worth(sub_orders))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Currently the button is still displayed when an order is fully activated using the amount based partial activation request.&lt;/p&gt;

&lt;p&gt;&lt;img src="https://jira.billpay.intern/secure/attachment/25041/25041_activation_button_22.04.2013.png" align="absmiddle" border="0" height="600" width="800" /&gt;&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;

</description>
                <environment/>
            <key id="25112">IPL-10807</key>
            <summary>PA by amount - Partial Activation (BO&amp;Bug)</summary>
                <type id="6" iconUrl="https://jira.billpay.intern/images/icons/silk/user_comment.png">User Story</type>
                                <priority id="1" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_red.png">1 (Dringend Wichtig)</priority>
                    <status id="10014" iconUrl="https://jira.billpay.intern/images/icons/silk/thumb_up.png">Specified</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="skuhn">Stefan Kuhn</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Apr 2013 12:44:30 +0200</created>
                <updated>Mon, 13 May 2013 15:06:19 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>application - background</component>
                        <due/>
                    <votes>0</votes>
                        <watches>3</watches>
                                                    <aggregatetimeoriginalestimate seconds="91800">3 days, 1 hour, 30 minutes</aggregatetimeoriginalestimate>
                        <aggregatetimeremainingestimate seconds="91800">3 days, 1 hour, 30 minutes</aggregatetimeremainingestimate>
                                          <issuelinks>
                        <issuelinktype id="10020">
                <name>association</name>
                                <outwardlinks description="belongs to">
                            <issuelink>
            <issuekey id="23781">IPL-9889</issuekey>
        </issuelink>
                    </outwardlinks>
                                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="25041" name="activation_button_22.04.2013.png" size="60210" author="skuhn" created="Mon, 13 May 2013 15:06:19 +0200"/>
                    <attachment id="24528" name="Dialog_aktivierung_22.04.2013.png" size="43558" author="skuhn" created="Wed, 24 Apr 2013 14:06:50 +0200"/>
                    <attachment id="24527" name="Tree_22.04.2013.png" size="8132" author="skuhn" created="Wed, 24 Apr 2013 14:06:27 +0200"/>
                </attachments>
            <subtasks>
            <subtask id="25126">IPL-10821</subtask>
            <subtask id="25127">IPL-10822</subtask>
            <subtask id="25128">IPL-10823</subtask>
            <subtask id="25353">IPL-10973</subtask>
        </subtasks>
                <customfields>
                                                    <customfield id="customfield_10072" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                <customfieldname>Software Function</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10321"><![CDATA[decision engine]]></customfieldvalue>

                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                <customfieldname>StoryPoints</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10031"><![CDATA[8]]></customfieldvalue>

                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>

<item>
            <title>[IPL-10783] Enable Merchants to choose between our different Transaction Credit Types</title>
                <link>https://jira.billpay.intern/browse/IPL-10783</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>
&lt;div class="panel" style="background-color: #FFFFCE;border-color: #ccc;border-style: dashed;border-width: 1px;"&gt;&lt;div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: dashed;border-bottom-color: #ccc;background-color: #F7D6C1;"&gt;&lt;b&gt;Introduction&lt;/b&gt;&lt;/div&gt;&lt;div class="panelContent" style="background-color: #FFFFCE;"&gt;
&lt;p&gt;We want to enable some Merchants (portals) to choose between different TC-Condition-Models by themself. Therefore we have to provide a possibilty for that in the BO.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class="panel" style="background-color: #FFFFCE;border-color: #ccc;border-style: dashed;border-width: 1px;"&gt;&lt;div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: dashed;border-bottom-color: #ccc;background-color: #F7D6C1;"&gt;&lt;b&gt;Description&lt;/b&gt;&lt;/div&gt;&lt;div class="panelContent" style="background-color: #FFFFCE;"&gt;
&lt;table class='confluenceTable'&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class='confluenceTh'&gt;As-Is-Status&lt;/th&gt;
&lt;th class='confluenceTh'&gt;Should-Be-Status&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class='confluenceTd'&gt;No-Status-Quo&lt;/td&gt;
&lt;td class='confluenceTd'&gt;Merchant can choose between different TC condition models in the BO&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;


&lt;h2&gt;&lt;a name="1.Newtable"&gt;&lt;/a&gt;1. New table&lt;/h2&gt;

&lt;p&gt;We have to provide a new table: "ipaylater_merchant.merchant_configuration_payment_option", where we save the conditions (values) for each portal TC/country/currency combination. This new table has the same structure as ipaylater_merchant.merchant_configuration_payment. Primary Key has to be auto increment (Not portal ID)&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Note:&lt;/b&gt;  ipaylater_merchant.merchant_configuration_payment_option table is maintained directly from IT in the DB. No UI in the BO for these TC-condition-models.&lt;/p&gt;

&lt;h2&gt;&lt;a name="2.LogicforenabelingMerchantstochoosemodel"&gt;&lt;/a&gt;2. Logic for enabeling Merchants to choose model&lt;/h2&gt;

&lt;p&gt;When rendering the BO GUI for the TC payment options for a certain portal, we do the following: If the table ipaylater_merchant.merchant_configuration_payment_option contains entries -&amp;gt; display drop-down in the BO and a save button in order to let the merchant select a set of conditions.&lt;/p&gt;

&lt;p&gt;&lt;img src="https://jira.billpay.intern/secure/attachment/24724/24724_display_dropdown_02.05.2013.png" align="absmiddle" border="0" /&gt;&lt;/p&gt;


&lt;h2&gt;&lt;a name="3.Logicwhenconditionmodelisselected"&gt;&lt;/a&gt;3. Logic when condition model is selected&lt;/h2&gt;
&lt;ul class="alternate" type="square"&gt;
	&lt;li&gt;When Merchant is allowed to switch model&lt;/li&gt;
	&lt;li&gt;Display drop down&lt;/li&gt;
	&lt;li&gt;Merchant choose model&lt;/li&gt;
	&lt;li&gt;Merchant save model&lt;/li&gt;
	&lt;li&gt;overwright  ipaylater_merchant.merchant_configuration_payment table with values from  ipaylater_merchant.merchant_configuration_payment_option&lt;/li&gt;
	&lt;li&gt;display values in merchnat view (read only)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;img src="https://jira.billpay.intern/secure/attachment/24760/24760_merchant_select_option_2.5.2013.png" align="absmiddle" border="0" /&gt;&lt;/p&gt;




&lt;h2&gt;&lt;a name="4.MerchantView"&gt;&lt;/a&gt;4. Merchant View&lt;/h2&gt;

&lt;p&gt;Merchant should be able to select and switch by himself the type of TC he wants to use at any time. The switch should be done in BO by merchant. (and Admin)&lt;br/&gt;
When new model is choose - display new values in BO (read only)&lt;br/&gt;
&lt;b&gt;Important:&lt;/b&gt; The merchant should use the new saving button (see screenshot) to commit model.&lt;br/&gt;
&lt;img src="https://jira.billpay.intern/secure/attachment/24759/24759_Merchant_view_condition_02.05.2013.png" align="absmiddle" border="0" /&gt;&lt;/p&gt;


&lt;p&gt;&lt;b&gt;Note: Right now there are 4 Different types of TC:&lt;/b&gt; (But must be generic for the future)&lt;/p&gt;
&lt;ul class="alternate" type="square"&gt;
	&lt;li&gt;normal TC (customer pays interests + 1,95 EUR handling fee/ merchant pays normal disagio)&lt;/li&gt;
	&lt;li&gt;0% (customer doesn't pay interests/ customer pays 1,95 EUR handling fee/ merchant pays transaction fee and disagio)&lt;/li&gt;
	&lt;li&gt;0% effective (customer pay nothing/ merchant pays 1,95 EUR handling fee + transaction fee + disagio)&lt;/li&gt;
	&lt;li&gt;fix Rate (customers pays fix amount including interests/ merchant pays 1,95 EUR handling fee + normal disagio)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; No default values necessary&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class="panel" style="background-color: #FFFFCE;border-color: #ccc;border-style: dashed;border-width: 1px;"&gt;&lt;div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: dashed;border-bottom-color: #ccc;background-color: #F7D6C1;"&gt;&lt;b&gt;Note/Additional Information&lt;/b&gt;&lt;/div&gt;&lt;div class="panelContent" style="background-color: #FFFFCE;"&gt;
&lt;ul class="alternate" type="square"&gt;
	&lt;li&gt;Creates a USP for merchants (they can make 'special sales' everytime they need/ want)&lt;/li&gt;
	&lt;li&gt;Decreases our manual work to switch the TC-types.&lt;/li&gt;
	&lt;li&gt;do not show the merchant more than what is able to see right now (there have been incidents, where we displayed information, which are not meant for the merchants)&lt;/li&gt;
	&lt;li&gt;do not allow the merchant to change more than what he is able to do now (same as above)&lt;/li&gt;
	&lt;li&gt;only show this new feature to merchants, which we enable to do so and only the options, which we enable (e.g. if we only enable standard TC, then only show standard TC)&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;




&lt;div class="panel" style="background-color: #FFFFCE;border-color: #ccc;border-style: dashed;border-width: 1px;"&gt;&lt;div class="panelHeader" style="border-bottom-width: 1px;border-bottom-style: dashed;border-bottom-color: #ccc;background-color: #F7D6C1;"&gt;&lt;b&gt;TODO&lt;/b&gt;&lt;/div&gt;&lt;div class="panelContent" style="background-color: #FFFFCE;"&gt;
&lt;ul class="alternate" type="square"&gt;
	&lt;li&gt;implement new table&lt;/li&gt;
	&lt;li&gt;create dropdown display logic (and button)&lt;/li&gt;
	&lt;li&gt;create load logic from merchant_configuration_payment_option to merchant_configuration_payment table&lt;/li&gt;
	&lt;li&gt;create load logic (from merchant_configuration_payment table to BO; after each update)&lt;/li&gt;
	&lt;li&gt;Adjust BO Design&lt;/li&gt;
	&lt;li&gt;test merchant invoice - when switching&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment/>
            <key id="25088">IPL-10783</key>
            <summary>Enable Merchants to choose between our different Transaction Credit Types</summary>
                <type id="6" iconUrl="https://jira.billpay.intern/images/icons/silk/user_comment.png">User Story</type>
                                <priority id="1" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_red.png">1 (Dringend Wichtig)</priority>
                    <status id="10014" iconUrl="https://jira.billpay.intern/images/icons/silk/thumb_up.png">Specified</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="melsner">Maximilian von Elsner</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Apr 2013 17:39:30 +0200</created>
                <updated>Tue, 14 May 2013 13:08:13 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>application - backoffice</component>
                        <due/>
                    <votes>0</votes>
                        <watches>6</watches>
                                                    <aggregatetimeoriginalestimate seconds="79200">2 days, 6 hours</aggregatetimeoriginalestimate>
                        <aggregatetimeremainingestimate seconds="79200">2 days, 6 hours</aggregatetimeremainingestimate>
                                      <comments>
                    <comment id="45665" author="jwehrs" created="Tue, 23 Apr 2013 17:33:36 +0200">@Duc/Stefan: please think about/provide a screenshot, how adding such sets of config parameters should look like. Please do not restrict to 4 sets but keep it generic. Also please keep in mind that 95% of the merchants only have one set of parameters. So setting the default parameters must not become more diffult than it is right now.</comment>
                    <comment id="46338" author="jwehrs" created="Mon, 6 May 2013 15:55:12 +0200">Was 3 story points. Changes made -&amp;gt; re estimate.</comment>
                </comments>
                    <attachments>
                    <attachment id="24474" name="BO_Design.png" size="82802" author="dnguyen" created="Tue, 23 Apr 2013 11:00:08 +0200"/>
                    <attachment id="24725" name="display_dropdown_02.05.2013.adf" size="62944" author="skuhn" created="Thu, 2 May 2013 14:33:03 +0200"/>
                    <attachment id="24724" name="display_dropdown_02.05.2013.png" size="6513" author="skuhn" created="Thu, 2 May 2013 14:33:03 +0200"/>
                    <attachment id="24726" name="merchant_select_option_2.5.2013.adf" size="47253" author="skuhn" created="Thu, 2 May 2013 14:39:55 +0200"/>
                    <attachment id="24760" name="merchant_select_option_2.5.2013.png" size="6521" author="skuhn" created="Thu, 2 May 2013 16:25:36 +0200"/>
                    <attachment id="24759" name="Merchant_view_condition_02.05.2013.png" size="45886" author="skuhn" created="Thu, 2 May 2013 16:21:14 +0200"/>
                </attachments>
            <subtasks>
            <subtask id="25363">IPL-10983</subtask>
            <subtask id="25364">IPL-10984</subtask>
            <subtask id="25365">IPL-10985</subtask>
            <subtask id="25371">IPL-10991</subtask>
            <subtask id="25372">IPL-10992</subtask>
        </subtasks>
                <customfields>
                                                                        <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                <customfieldname>StoryPoints</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10001"><![CDATA[3]]></customfieldvalue>

                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>

<item>
            <title>[IPL-10641] Fraud Check -&gt; Cust IDs per address</title>
                <link>https://jira.billpay.intern/browse/IPL-10641</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;&lt;b&gt;1.) Blacklist CustIdentity -&amp;gt; 3 years&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;If the Rule says we think its Fraud, then blacklist the global identity of the customer for 3 years. &lt;/p&gt;


&lt;p&gt;&lt;b&gt;2.) similarity of names/email&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;The 2nd Cust-ID/customer at one adress should be compared with the 1st customer with the same address, but only if the mainstate of the existing customer was "denied" or "low scoring". &lt;/p&gt;

&lt;p&gt;We want to compare the firstname, the lastname, the email adress and the part of the email adress before the "@".&lt;br/&gt;
This should be done using the Levenshtein distance. We need different cut offs for "similarity = yes" (Levenshtein distance should deliver a Number between 0 and 100)&lt;/p&gt;

&lt;p&gt;&lt;b&gt;3.) IF similarity = yes, then we classify the request as fraud.&lt;/b&gt;&lt;/p&gt;

&lt;ul class="alternate" type="square"&gt;
	&lt;li&gt;new prevalidation state: "DENIED_ADDRESS_CUSTOMER_SIMILARITY"&lt;/li&gt;
	&lt;li&gt;global activation/deactivation&lt;/li&gt;
	&lt;li&gt;activation/deactivation for every portal&lt;/li&gt;
	&lt;li&gt;global configuration fpr levenshtein Distance&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;! There are examples and futher explanations in the attached Excel-File ! &lt;br/&gt;
-&amp;gt; this shouid be really helpful, you can play around and see what results are expected.&lt;/p&gt;



</description>
                <environment/>
            <key id="24946">IPL-10641</key>
            <summary>Fraud Check -&gt; Cust IDs per address</summary>
                <type id="6" iconUrl="https://jira.billpay.intern/images/icons/silk/user_comment.png">User Story</type>
                                <priority id="1" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_red.png">1 (Dringend Wichtig)</priority>
                    <status id="10014" iconUrl="https://jira.billpay.intern/images/icons/silk/thumb_up.png">Specified</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="jwehrs">Jan Wehrs</assignee>
                                <reporter username="mfunke">Matthias Funke</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Apr 2013 15:43:53 +0200</created>
                <updated>Tue, 14 May 2013 16:56:09 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>application - background</component>
                        <due/>
                    <votes>0</votes>
                        <watches>4</watches>
                                                                                  <comments>
                    <comment id="45096" author="sbrauer" created="Wed, 10 Apr 2013 16:17:01 +0200">@Matthias wir sollten das Ganze auf bspw. letzte 14 Tage begrenzen oder an &amp;quot;open debts&amp;quot; h&amp;#xE4;ngen. Ansonsten kann es passieren, dass wir Mietsh&amp;#xE4;user mit bspw. 80 Parteien zu stark rausschmei&amp;#xDF;en.</comment>
                    <comment id="45105" author="jwehrs" created="Wed, 10 Apr 2013 23:18:02 +0200">das haben wir schon. Nennt sich family_open_debts check. wird aktuell allerdings nur ausgef&amp;#xFC;hrt, wenn DV family hit meldet, also nicht sehr h&amp;#xE4;ufig.</comment>
                    <comment id="45106" author="jwehrs" created="Wed, 10 Apr 2013 23:19:32 +0200">sollten entsprechend einen neuen prevalidation status ADDRESS_OPEN_DEBTS einf&amp;#xFC;hren.</comment>
                    <comment id="45108" author="sbrauer" created="Wed, 10 Apr 2013 23:21:59 +0200">&lt;br/&gt;
@Matthias pass das bitte wie vorgeschlagen auf &amp;quot;open orders/Adresse&amp;quot; an.&lt;br/&gt;
&lt;br/&gt;
Danke und Gruesse,&lt;br/&gt;
Sven&lt;br/&gt;

&lt;br/&gt;
sent via BlackBerry&amp;#xAE;
&lt;br/&gt;

&lt;br/&gt;
-----Original Message-----
&lt;br/&gt;
From: &amp;quot;Jan Wehrs (JIRA)&amp;quot; &amp;lt;&lt;a href='mailto:jira@billpay.de'&gt;jira@billpay.de&lt;/a&gt;&amp;gt;
&lt;br/&gt;
Date: Wed, 10 Apr 2013 23:19:59 
&lt;br/&gt;
To: &amp;lt;&lt;a href='mailto:sven.brauer@billpay.de'&gt;sven.brauer@billpay.de&lt;/a&gt;&amp;gt;
&lt;br/&gt;
Subject: [JIRA] (&lt;a href="https://jira.billpay.intern/browse/IPL-10641" title="Fraud Check -&amp;gt; Cust IDs per address"&gt;IPL-10641&lt;/a&gt;) Fraud Pr&amp;#xFC;fung -&amp;gt; Cust IDs pro Adresse
&lt;br/&gt;

&lt;br/&gt;

&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;[ &lt;a href="https://jira.billpay.intern/browse/IPL-10641?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;focusedCommentId=45106#comment-45106"&gt;https://jira.billpay.intern/browse/IPL-10641?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=45106#comment-45106&lt;/a&gt; ] 
&lt;br/&gt;

&lt;br/&gt;
Jan Wehrs kommentiert am &lt;a href="https://jira.billpay.intern/browse/IPL-10641" title="Fraud Check -&amp;gt; Cust IDs per address"&gt;IPL-10641&lt;/a&gt;:
&lt;br/&gt;
---------------------------------
&lt;br/&gt;

&lt;br/&gt;
sollten entsprechend einen neuen prevalidation status ADDRESS_OPEN_DEBTS einf&amp;#xFC;hren.
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;
&lt;br/&gt;
&amp;gt; Fraud Pr&amp;#xFC;fung -&amp;gt; Cust IDs pro Adresse
&lt;br/&gt;
&amp;gt; -------------------------------------
&lt;br/&gt;
&amp;gt;
&lt;br/&gt;
&amp;gt;           Schl&amp;#xFC;ssel: &lt;a href="https://jira.billpay.intern/browse/IPL-10641" title="Fraud Check -&amp;gt; Cust IDs per address"&gt;IPL-10641&lt;/a&gt;
&lt;br/&gt;
&amp;gt;                 URL: &lt;a href="https://jira.billpay.intern/browse/IPL-10641"&gt;https://jira.billpay.intern/browse/IPL-10641&lt;/a&gt;
&lt;br/&gt;
&amp;gt;             Projekt: Billpay IT
&lt;br/&gt;
&amp;gt;         Vorgangstyp: User Story
&lt;br/&gt;
&amp;gt;         Komponenten: application - background
&lt;br/&gt;
&amp;gt;               Autor: Matthias Funke
&lt;br/&gt;
&amp;gt;             Anh&amp;#xE4;nge: adress rule.jpeg
&lt;br/&gt;
&amp;gt;
&lt;br/&gt;
&amp;gt;
&lt;br/&gt;
&amp;gt; Ein Gro&amp;#xDF;teil unserer Fraud F&amp;#xE4;lle entsteht durch Anfrager, die ihren Namen &amp;#xE4;ndern. Die Adresse lassen sie i.d.R. gleich.
&lt;br/&gt;
&amp;gt; &amp;#xC4;ndert der Anfrager seinen Namen, so bekommt er von uns eine neue Cust ID.
&lt;br/&gt;
&amp;gt; Ein Indiz f&amp;#xFC;r Betrug liegt immer dann vor, wenn es f&amp;#xFC;r eine Adresse mehrere verschiedene Cust IDs/Kunden gibt. 
&lt;br/&gt;
&amp;gt; Ziel ist nun eine automatische Pr&amp;#xFC;fung der bereits vorhandenen Anzahl von verschiedenen Cust IDs an einer Adresse im Rahmen der Pr&amp;#xFC;fung von uns unbekannten Anfragern. Ist eine festgelegte Anzahl x &amp;#xFC;berschritten, soll die Bestellung dann als wahrscheinlicher Fraud abgelehnt werden.
&lt;br/&gt;
&amp;gt; Bsp:
&lt;br/&gt;
&amp;gt; Max M&amp;#xFC;ller m&amp;#xF6;chte bestellen.
&lt;br/&gt;
&amp;gt; Adresse = Testweg 12 12043 Berlin
&lt;br/&gt;
&amp;gt; Pr&amp;#xFC;fung:
&lt;br/&gt;
&amp;gt; Testweg 12 12043 Berlin -&amp;gt; es gibt bereits 2 Cust IDs zu der Adresse
&lt;br/&gt;
&amp;gt; -&amp;gt; Fraud Verdacht.
&lt;br/&gt;
&amp;gt; Die Anzahl der Cust IDs die zu Fraud Verdacht f&amp;#xFC;hrt muss variabel sein. 
&lt;br/&gt;
&amp;gt; Sinnvoll f&amp;#xFC;r den Start ist nach erfolgten Auswertungen eine Sperre, wenn es bereits 2 verschiedene Cust IDs zur Adresse gibt.
&lt;br/&gt;
&amp;gt; Dazu ist ein neuer Prestate n&amp;#xF6;tig, z.B. &amp;quot;Adress Fraud Rule&amp;quot;
&lt;br/&gt;
&amp;gt; !adress rule.jpeg!
&lt;br/&gt;
&amp;gt;  
&lt;br/&gt;

&lt;br/&gt;
--
&lt;br/&gt;
Diese Meldung wird automatisch von JIRA generiert.
&lt;br/&gt;
Wenn Sie der Meinung sind, dass Sie diese E-Mail irrt&amp;#xFC;mlich erhalten haben, wenden Sie sich bitte an Ihre JIRA-Administratoren.
&lt;br/&gt;
Weitere Informationen zu JIRA finden Sie unter: &lt;a href="http://www.atlassian.com/software/jira"&gt;http://www.atlassian.com/software/jira&lt;/a&gt;
&lt;br/&gt;
</comment>
                    <comment id="45109" author="jwehrs" created="Wed, 10 Apr 2013 23:23:37 +0200">@Matthias: kannst du bitte auch ein paar Beispiel mit erwarteter Anzahl open debts bereitstellen.</comment>
                    <comment id="45503" author="mfunke" created="Fri, 19 Apr 2013 16:16:21 +0200">Erg&amp;#xE4;nzung:&lt;br/&gt;
&lt;br/&gt;
1.) Request&lt;br/&gt;
&lt;br/&gt;
2.) Zuordnung des Request zu bestehenden Cust IDs = good known Cust ID, kein Fraud Check (count Cust IDs), sonst Fraud Check (count Cust IDs).&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&lt;br/&gt;
(Erkl&amp;#xE4;rung:&lt;br/&gt;
Der Fraud Test soll nur f&amp;#xFC;r die Kunden durchgef&amp;#xFC;hrt werden, die nach aktueller Logik -ohne den Fraud Test- den Prestate = &amp;quot;approved&amp;quot; bekommen h&amp;#xE4;tten, also die Kunden, bei denen im n&amp;#xE4;chsten Schritt die Auskunftei angefragt wird.&lt;br/&gt;
Kunden, die nach aktueller Logik den prestate = &amp;quot;approved good known&amp;quot; bekommen w&amp;#xFC;rden, sollen nicht durch den Fraud Check gepr&amp;#xFC;ft werden.)&lt;br/&gt;
&lt;br/&gt;
3.) &lt;br/&gt;
Fraud Check = Count Cust IDs @ Adress // exclude Whitelisted Cust IDs // exclude CustID from actual request&lt;br/&gt;
&lt;br/&gt;
Erkl&amp;#xE4;rung:&lt;br/&gt;
Die aktuelle Grenze f&amp;#xFC;r den Fraud Check sollte sein: 2 bereits bestehende Cust IDs an der Adresse&lt;br/&gt;
Damit war gemeint, 2 Cust IDs ohne die des aktuell Anfragenden Kunden. &lt;br/&gt;
Sollte die Cust ID der aktuellen Anfrage mitgez&amp;#xE4;hlt werden, dann m&amp;#xFC;sste im Gegenzug die Grenze auch um 1 erh&amp;#xF6;ht werden.&lt;br/&gt;
&lt;br/&gt;
4.) If Fraud: deny request // overwrite prestate -&amp;gt; instead approved, write customers/address limit reached&lt;br/&gt;
&lt;br/&gt;
5.) Blacklist CustID -&amp;gt; 3 years&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
</comment>
                    <comment id="45966" author="jwehrs" created="Thu, 25 Apr 2013 23:19:27 +0200">2) -&amp;gt; done und live</comment>
                    <comment id="46342" author="jwehrs" created="Mon, 6 May 2013 17:06:15 +0200">Alter Beschriftung:&lt;br/&gt;
&lt;br/&gt;
1. Version:&lt;br/&gt;
&lt;br/&gt;
1.) Request&lt;br/&gt;
&lt;br/&gt;
2.) Zuordnung des Request zu bestehenden Cust IDs = good known Cust ID, kein Fraud Check (count Cust IDs), sonst Fraud Check (count Cust IDs).&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&lt;br/&gt;
(Erkl&amp;#xE4;rung:&lt;br/&gt;
Der Fraud Test soll nur f&amp;#xFC;r die Kunden durchgef&amp;#xFC;hrt werden, die nach aktueller Logik -ohne den Fraud Test- den Prestate = &amp;quot;approved&amp;quot; bekommen h&amp;#xE4;tten, also die Kunden, bei denen im n&amp;#xE4;chsten Schritt die Auskunftei angefragt wird.&lt;br/&gt;
Kunden, die nach aktueller Logik den prestate = &amp;quot;approved good known&amp;quot; bekommen w&amp;#xFC;rden, sollen nicht durch den Fraud Check gepr&amp;#xFC;ft werden.)&lt;br/&gt;
&lt;br/&gt;
3.) &lt;br/&gt;
Fraud Check = Count Cust IDs @ Adress // exclude Whitelisted Cust IDs // exclude CustID from actual request&lt;br/&gt;
&lt;br/&gt;
Erkl&amp;#xE4;rung:&lt;br/&gt;
Die aktuelle Grenze f&amp;#xFC;r den Fraud Check sollte sein: 2 bereits bestehende Cust IDs an der Adresse&lt;br/&gt;
Damit war gemeint, 2 Cust IDs ohne die des aktuell Anfragenden Kunden. Cust IDs die auf einer Whitelist stehen sollen auch nicht mitgez&amp;#xE4;hlt werden.&lt;br/&gt;
Sollte die Cust ID der aktuellen Anfrage mitgez&amp;#xE4;hlt werden, dann m&amp;#xFC;sste im Gegenzug die Grenze auch um 1 erh&amp;#xF6;ht werden.&lt;br/&gt;
&lt;br/&gt;
4.) If Fraud: deny request // overwrite prestate -&amp;gt; instead approved, write customers/address limit reached&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
done!&lt;br/&gt;
&lt;br/&gt;
To do:&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
5.) Blacklist CustIdentity -&amp;gt; 3 years&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
Ein Gro&amp;#xDF;teil unserer Fraud F&amp;#xE4;lle entsteht durch Anfrager, die ihren Namen &amp;#xE4;ndern. Die Adresse lassen sie i.d.R. gleich.&lt;br/&gt;
&amp;#xC4;ndert der Anfrager seinen Namen, so bekommt er von uns eine neue Cust ID.&lt;br/&gt;
Ein Indiz f&amp;#xFC;r Betrug liegt immer dann vor, wenn es f&amp;#xFC;r eine Adresse mehrere verschiedene Cust IDs/Kunden gibt. &lt;br/&gt;
&lt;br/&gt;
Ziel ist nun eine automatische Pr&amp;#xFC;fung der bereits vorhandenen Anzahl von verschiedenen Cust IDs an einer Adresse im Rahmen der Pr&amp;#xFC;fung von uns unbekannten Anfragern. Ist eine festgelegte Anzahl x &amp;#xFC;berschritten, soll die Bestellung dann als wahrscheinlicher Fraud abgelehnt werden.&lt;br/&gt;
&lt;br/&gt;
Bsp:&lt;br/&gt;
Max M&amp;#xFC;ller m&amp;#xF6;chte bestellen.&lt;br/&gt;
Adresse = Testweg 12 12043 Berlin&lt;br/&gt;
Pr&amp;#xFC;fung:&lt;br/&gt;
Testweg 12 12043 Berlin -&amp;gt; es gibt bereits 2 Cust IDs zu der Adresse&lt;br/&gt;
-&amp;gt; Fraud Verdacht.&lt;br/&gt;
&lt;br/&gt;
Die Anzahl der Cust IDs die zu Fraud Verdacht f&amp;#xFC;hrt muss variabel sein. &lt;br/&gt;
Sinnvoll f&amp;#xFC;r den Start ist nach erfolgten Auswertungen eine Sperre, wenn es bereits 2 verschiedene Cust IDs zur Adresse gibt.&lt;br/&gt;
&lt;br/&gt;
Dazu ist ein neuer Prestate n&amp;#xF6;tig, z.B. &amp;quot;Adress Fraud Rule&amp;quot;&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
2. Version:&lt;br/&gt;
&lt;br/&gt;
Die 2. Cust ID an einer Adresse soll automatisch (z.B. per &amp;quot;Levenshtein-Distanz&amp;quot;) auf ihre Names&amp;#xE4;hnlichkeit bzgl. der ersten Cust ID an der Adresse abgeglichen werden. &lt;br/&gt;
Je nach dem Auskunfteiergebenis der bestehenden Person und der Namens&amp;#xE4;hnlichkeit k&amp;#xF6;nnen verschiedene F&amp;#xE4;lle eintreten:&lt;br/&gt;
- keine Namens&amp;#xE4;hnlichkeit -&amp;gt; kein Fraud&lt;br/&gt;
- Namens&amp;#xE4;hnlichkeit + 1. Person angenommen -&amp;gt; kein Fraud&lt;br/&gt;
- Namens&amp;#xE4;hnlichkeit + 1. Person abgelehnt wegen &amp;quot;Denied&amp;quot; oder &amp;quot;Low Scoring&amp;quot; -&amp;gt; Fraud&lt;br/&gt;
- Namens&amp;#xE4;hnlichkeit + 1. Person abgelehnt wegen &amp;quot;Customer unknown&amp;quot; -&amp;gt; kein Fraud, Tippfehler bei der 1. Person der nun korrigiert wurde.&lt;br/&gt;
&lt;br/&gt;
Namens&amp;#xE4;hnlichkeit:&lt;br/&gt;
Ich wei&amp;#xDF; nicht welche Automatismen m&amp;#xF6;glich sein. Die Levenshtein-Distanz habe ich in Excel getestet und sie liefert einen % Wert bzgl. der Namens&amp;#xE4;hnlichkeit. Hier k&amp;#xF6;nnte dann eine variabel einzustellende Grenze eingestellt werden ( z.b. Levenshtein-Distanz &amp;gt;= 70% -&amp;gt; Namen&amp;#xE4;hnlichkeit gegeben).&lt;br/&gt;
Vor und Nachname +Email (bis zum @Zeichen + komplett)sollen getrennt &amp;#xFC;berpr&amp;#xFC;ft werden und eigene Cut Off Grenzen haben.  &lt;br/&gt;
&lt;br/&gt;
3.&lt;br/&gt;
&lt;br/&gt;
Adresse = Stra&amp;#xDF;e, hausnummer, Ort, PLZ&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
-&amp;gt; Siehe Datei &amp;quot;Levenstein f&amp;#xFC;r Jira&amp;quot; (muss mit Makros ausgef&amp;#xFC;hrt werden). Dort habe ich den Fraud Test in Excel gebaut.  &lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
&amp;nbsp;</comment>
                    <comment id="46471" author="skuhn" created="Wed, 8 May 2013 12:11:37 +0200">*1.) Blacklist CustIdentity -&amp;gt; 3 years*&lt;br/&gt;
&lt;br/&gt;
Wenn die Fraud Regel greift, wird die globale Identit&amp;#xE4;t des Kunden f&amp;#xFC;r 3 Jahre geblacklisted.&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
*2.) Namens&amp;#xE4;nhlichkeit*&lt;br/&gt;
&lt;br/&gt;
Die 2. Cust ID an einer Adresse soll automatisch (z.B. per &amp;quot;Levenshtein-Distanz&amp;quot;) auf ihre Names&amp;#xE4;hnlichkeit bzgl. der ersten Cust ID an der Adresse abgeglichen werden. &lt;br/&gt;
Je nach dem Auskunfteiergebenis der bestehenden Person und der Namens&amp;#xE4;hnlichkeit k&amp;#xF6;nnen verschiedene F&amp;#xE4;lle eintreten:&lt;br/&gt;
- keine Namens&amp;#xE4;hnlichkeit -&amp;gt; kein Fraud&lt;br/&gt;
- Namens&amp;#xE4;hnlichkeit + 1. Person angenommen -&amp;gt; kein Fraud&lt;br/&gt;
- Namens&amp;#xE4;hnlichkeit + 1. Person abgelehnt wegen &amp;quot;Denied&amp;quot; oder &amp;quot;Low Scoring&amp;quot; -&amp;gt; Fraud&lt;br/&gt;
- Namens&amp;#xE4;hnlichkeit + 1. Person abgelehnt wegen &amp;quot;Customer unknown&amp;quot; -&amp;gt; kein Fraud, Tippfehler bei der 1. Person der nun korrigiert wurde.&lt;br/&gt;
&lt;br/&gt;
Namens&amp;#xE4;hnlichkeit:&lt;br/&gt;
Ich wei&amp;#xDF; nicht welche Automatismen m&amp;#xF6;glich sein. Die Levenshtein-Distanz habe ich in Excel getestet und sie liefert einen % Wert bzgl. der Namens&amp;#xE4;hnlichkeit. Hier k&amp;#xF6;nnte dann eine variabel einzustellende Grenze eingestellt werden ( z.b. Levenshtein-Distanz &amp;gt;= 70% -&amp;gt; Namen&amp;#xE4;hnlichkeit gegeben).&lt;br/&gt;
Vor und Nachname +Email (bis zum @Zeichen + komplett)sollen getrennt &amp;#xFC;berpr&amp;#xFC;ft werden und eigene Cut Off Grenzen haben. &lt;br/&gt;
&lt;br/&gt;
- neuer prevalidation state: &amp;quot;DENIED_ADDRESS_CUSTOMER_SIMILARITY&amp;quot;&lt;br/&gt;
- globale aktivierung/deaktivierung&lt;br/&gt;
- aktivierung/deaktivierung pro portal&lt;br/&gt;
- levenshtein Distanz global konfigurierbar&lt;br/&gt;
</comment>
                    <comment id="46496" author="jwehrs" created="Thu, 9 May 2013 21:49:33 +0200">@Matthias: da ist noch eine Ungenauigkeit zu kl&amp;#xE4;ren: Die Email-Adresse, die du vergleich m&amp;#xF6;chtest ist nicht eindeutig. Ein und derselbe Kunde kann zwei Anfragen mit unterschiedlichen Email Adressen und derselben customer ID machen (d.h. die Email ist kein Identit&amp;#xE4;tsstiftendes Merkmal). Welche Email sollen wir dann nutzen? Gleiches gilt f&amp;#xFC;r den mainstate. Wir befinden uns hier nicht auf Requestebene sondern auf Kundenebene.&lt;br/&gt;
&lt;br/&gt;
Soll heissen: Wenn die Anzahl der existierenden customer IDs inkl. der aktuell angefragten auf der aktuell angefragen Adresse = 2 ist, dann m&amp;#xFC;ssen wir den &amp;#xC4;hnlichkeits-Check &amp;#xFC;ber Vor/Nachname und Email-Adresse mit allen verf&amp;#xFC;gbaren Email Adressen machen, die in einer Anfrage mit der ersten customer ID und mainstate LOW_SCORING oder DENIED enthalten sind. Namens&amp;#xE4;hnlichkeit besteht, wenn eine der so gefundenen Email-Adressen &amp;#xC4;hnlichkeit mit der anfragten Email-Adresse hat.</comment>
                    <comment id="46497" author="jwehrs" created="Thu, 9 May 2013 23:27:38 +0200">Das ganze ist grundlegend implementiert, so wie im vorherigen Kommentar beschrieben.&lt;br/&gt;
&lt;br/&gt;
Aktuelle Cutoffs:&lt;br/&gt;
1) distance vorname &amp;lt;= 3 und distance nachname &amp;lt;= 3 -&amp;gt; DENIED_ADDRESS_CUSTOMER_SIMILARITY&lt;br/&gt;
2) distance f&amp;#xFC;r eine email, die wie oben beschrieben gefunden wurde &amp;lt;= 3 -&amp;gt; DENIED_ADDRESS_CUSTOMER_SIMILARITY</comment>
                    <comment id="46518" author="mfunke" created="Mon, 13 May 2013 10:37:11 +0200">@ Jan:
&lt;br/&gt;

&lt;br/&gt;
Bzgl. den Email Adressen:
&lt;br/&gt;
Da sollten wir so wie vin dir beschrieben machen.
&lt;br/&gt;

&lt;br/&gt;
Wegen Mainstate: 
&lt;br/&gt;
&amp;quot;low scoring&amp;quot; + &amp;quot;denied&amp;quot; f&amp;#xFC;hrt ja beides zum Blacklisting des Kunden. Also m&amp;#xFC;ssste man alternativ auch einfach schauen k&amp;#xF6;nnen, ob der bereits existierende Kunde geblacklisted ist.</comment>
                    <comment id="46590" author="jwehrs" created="Tue, 14 May 2013 16:56:09 +0200">&amp;nbsp;&amp;nbsp;function levenshteinPerc($str1, $str2) {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;$len = strlen($str1);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if ($len===0 &amp;amp;&amp;amp; strlen($str2)===0) {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return 0;&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;} else {&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return ($len&amp;gt;0 ? levenshtein($str1, $str2) / $len : 1);&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;}&lt;br/&gt;
&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;</comment>
                </comments>
                    <attachments>
                    <attachment id="24216" name="adress rule.jpeg" size="408613" author="mfunke" created="Wed, 10 Apr 2013 15:43:53 +0200"/>
                    <attachment id="24535" name="Levenstein für Jira mit email.xlsm" size="839433" author="mfunke" created="Wed, 24 Apr 2013 16:30:12 +0200"/>
                </attachments>
            <subtasks>
            <subtask id="24987">IPL-10682</subtask>
            <subtask id="25153">IPL-10848</subtask>
        </subtasks>
                <customfields>
                                                    <customfield id="customfield_10072" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                <customfieldname>Software Function</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10320"><![CDATA[risk]]></customfieldvalue>

                </customfieldvalues>
            </customfield>
                                            <customfield id="customfield_10000" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                <customfieldname>StoryPoints</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10001"><![CDATA[3]]></customfieldvalue>

                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>

<item>
            <title>[IPL-10963] Creating MT104 files fails with NullPointerException</title>
                <link>https://jira.billpay.intern/browse/IPL-10963</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;EXCEPTION:&lt;/p&gt;

&lt;div class="code panel" style="border-width: 1px;"&gt;&lt;div class="codeContent panelContent"&gt;
&lt;pre class="code-java"&gt;
2013-05-04 05:00:10,090 [ERROR] net.ipaylater.backend.jobs.base.AbstractJob.executeInternal(AbstractJob.java:53) - Error running Processing mt104 files
java.lang.NullPointerException
        at net.ipaylater.backend.utils.Mt104Builder.&amp;lt;init&amp;gt;(Mt104Builder.java:94)
        at net.ipaylater.backend.service.transactions.processing.export.impl.Mt104CreateServiceImpl.createFiles(Mt104CreateServiceImpl.java:164)
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)
        at java.lang.reflect.Method.invoke(Method.java:597)
        at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:309)
        at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:183)
        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:150)
        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:110)
        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)
        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:202)
        at $Proxy72.createFiles(Unknown Source)
        at net.ipaylater.backend.jobs.Mt104BatchJob.runJob(Mt104BatchJob.java:32)
        at net.ipaylater.backend.jobs.base.AbstractJob.executeInternal(AbstractJob.java:45)
        at org.springframework.scheduling.quartz.QuartzJobBean.execute(QuartzJobBean.java:86)
        at org.quartz.core.JobRunShell.run(JobRunShell.java:216)
        at org.quartz.simpl.SimpleThreadPool$WorkerThread.run(SimpleThreadPool.java:549)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;Please also improve logging: log all processed subdebt ids in the quartz.log.&lt;/p&gt;

&lt;p&gt;Fix this also in branch for Sprint 48 -&amp;gt; requires a hotfix deploy&lt;/p&gt;</description>
                <environment/>
            <key id="25343">IPL-10963</key>
            <summary>Creating MT104 files fails with NullPointerException</summary>
                <type id="13" iconUrl="https://jira.billpay.intern/images/icons/silk/bug.png">Dev-Bug</type>
                    <parent id="25254">IPL-10931</parent>
                        <priority id="1" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_red.png">1 (Dringend Wichtig)</priority>
                    <status id="10012" iconUrl="https://jira.billpay.intern/images/icons/silk/cup.png">Pending</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="jwehrs">Jan Wehrs</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 May 2013 14:21:30 +0200</created>
                <updated>Tue, 14 May 2013 16:30:16 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>application - background</component>
                        <due/>
                    <votes>0</votes>
                        <watches>1</watches>
                          <timeoriginalestimate seconds="10800">3 hours</timeoriginalestimate>
                    <timeestimate seconds="10800">3 hours</timeestimate>
                                          <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10931] Sprint 49 Bug Container</title>
                <link>https://jira.billpay.intern/browse/IPL-10931</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description/>
                <environment/>
            <key id="25254">IPL-10931</key>
            <summary>Sprint 49 Bug Container</summary>
                <type id="6" iconUrl="https://jira.billpay.intern/images/icons/silk/user_comment.png">User Story</type>
                                <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="10014" iconUrl="https://jira.billpay.intern/images/icons/silk/thumb_up.png">Specified</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="jwehrs">Jan Wehrs</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 May 2013 12:10:52 +0200</created>
                <updated>Mon, 13 May 2013 11:30:11 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>other</component>
                        <due/>
                    <votes>0</votes>
                        <watches>1</watches>
                                                    <aggregatetimeoriginalestimate seconds="97200">3 days, 3 hours</aggregatetimeoriginalestimate>
                        <aggregatetimeremainingestimate seconds="97200">3 days, 3 hours</aggregatetimeremainingestimate>
                                              <attachments>
                </attachments>
            <subtasks>
            <subtask id="23713">IPL-9821</subtask>
            <subtask id="25089">IPL-10784</subtask>
            <subtask id="25250">IPL-10927</subtask>
            <subtask id="25255">IPL-10932</subtask>
            <subtask id="25256">IPL-10933</subtask>
            <subtask id="25336">IPL-10956</subtask>
            <subtask id="25343">IPL-10963</subtask>
        </subtasks>
                <customfields>
                                                                            </customfields>
    </item>

<item>
            <title>[IPL-10992] (IPL-10783) Create SP to save selected conditions</title>
                <link>https://jira.billpay.intern/browse/IPL-10992</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;Create save button logic.&lt;/p&gt;

&lt;p&gt;When saving we should overwright,&lt;br/&gt;
ipaylater_merchant.merchant_configuration_payment table with values from ipaylater_merchant.merchant_configuration_payment_option.&lt;br/&gt;
Set the selected option id in the payment_table&lt;/p&gt;</description>
                <environment/>
            <key id="25372">IPL-10992</key>
            <summary>(IPL-10783) Create SP to save selected conditions</summary>
                <type id="14" iconUrl="https://jira.billpay.intern/images/icons/silk/page_white_edit.png">Dev-ReviewTask</type>
                    <parent id="25088">IPL-10783</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="1" iconUrl="https://jira.billpay.intern/images/icons/silk/user_add.png">Open</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rrodrigues">Ricardo Gomes Rodrigues</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 May 2013 16:01:28 +0200</created>
                <updated>Tue, 14 May 2013 16:22:42 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>application - backoffice</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="21600">6 hours</timeoriginalestimate>
                    <timeestimate seconds="21600">6 hours</timeestimate>
                                          <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10991] (IPL-10783) BO - Secure the pages with spring security tags</title>
                <link>https://jira.billpay.intern/browse/IPL-10991</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;Secure the page with spring security.&lt;br/&gt;
In general the user has the right to view the pages.&lt;br/&gt;
Create new right for storing the new rate model.&lt;br/&gt;
Should be allowed,&lt;br/&gt;
for ADMINS&lt;br/&gt;
customer care,&lt;br/&gt;
Merchant,&lt;/p&gt;</description>
                <environment/>
            <key id="25371">IPL-10991</key>
            <summary>(IPL-10783) BO - Secure the pages with spring security tags</summary>
                <type id="14" iconUrl="https://jira.billpay.intern/images/icons/silk/page_white_edit.png">Dev-ReviewTask</type>
                    <parent id="25088">IPL-10783</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="1" iconUrl="https://jira.billpay.intern/images/icons/silk/user_add.png">Open</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="wmlynarski">Wieslaw Mlynarski</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 May 2013 16:00:53 +0200</created>
                <updated>Tue, 14 May 2013 16:18:51 +0200</updated>
                                    <version>48. Sprint</version>
                                <fixVersion>49. Sprint</fixVersion>
                                <component>application - backoffice</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="10800">3 hours</timeoriginalestimate>
                    <timeestimate seconds="10800">3 hours</timeestimate>
                                          <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10988] (IPL-10808) BO - </title>
                <link>https://jira.billpay.intern/browse/IPL-10988</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description/>
                <environment/>
            <key id="25368">IPL-10988</key>
            <summary>(IPL-10808) BO - </summary>
                <type id="14" iconUrl="https://jira.billpay.intern/images/icons/silk/page_white_edit.png">Dev-ReviewTask</type>
                    <parent id="25113">IPL-10808</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="10008" iconUrl="https://jira.billpay.intern/images/icons/silk/cancel.png">Cancelled</status>
                    <resolution id="1">Fixed</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="wmlynarski">Wieslaw Mlynarski</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 May 2013 14:50:02 +0200</created>
                <updated>Tue, 14 May 2013 14:52:28 +0200</updated>
                    <resolved>Tue, 14 May 2013 14:52:13 +0200</resolved>
                            <version>48. Sprint</version>
                                <fixVersion>49. Sprint</fixVersion>
                                <component>application - backoffice</component>
                        <due/>
                    <votes>0</votes>
                        <watches>1</watches>
                                                            <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10985] (IPL-10783) BO - Adjust View and display logic</title>
                <link>https://jira.billpay.intern/browse/IPL-10985</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;Create drop down and save button.&lt;/p&gt;

&lt;p&gt;Invoke display logic from previous ticket&lt;/p&gt;

&lt;p&gt;Load necessary data and change necessary classes for it. You might want to reuse method created in previous task to retrieve all options.&lt;/p&gt;</description>
                <environment/>
            <key id="25365">IPL-10985</key>
            <summary>(IPL-10783) BO - Adjust View and display logic</summary>
                <type id="14" iconUrl="https://jira.billpay.intern/images/icons/silk/page_white_edit.png">Dev-ReviewTask</type>
                    <parent id="25088">IPL-10783</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="1" iconUrl="https://jira.billpay.intern/images/icons/silk/user_add.png">Open</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rrodrigues">Ricardo Gomes Rodrigues</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 May 2013 14:20:30 +0200</created>
                <updated>Tue, 14 May 2013 16:17:41 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>application - backoffice</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="28800">1 day</timeoriginalestimate>
                    <timeestimate seconds="28800">1 day</timeestimate>
                                          <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10984] (IPL-10783) Create display check for conditions drop-down</title>
                <link>https://jira.billpay.intern/browse/IPL-10984</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;When rendering the BO GUI for the TC payment options for a certain portal, we do the following: If the table ipaylater_merchant.merchant_configuration_payment_option contains entries -&amp;gt; display drop-down in the BO and a save button in order to let the merchant select a set of conditions.&lt;/p&gt;

&lt;p&gt;For this task you should create the procedure that check if merchant_configuration_payment_option has entries and return true or false based on that&lt;/p&gt;</description>
                <environment/>
            <key id="25364">IPL-10984</key>
            <summary>(IPL-10783) Create display check for conditions drop-down</summary>
                <type id="14" iconUrl="https://jira.billpay.intern/images/icons/silk/page_white_edit.png">Dev-ReviewTask</type>
                    <parent id="25088">IPL-10783</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="1" iconUrl="https://jira.billpay.intern/images/icons/silk/user_add.png">Open</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rrodrigues">Ricardo Gomes Rodrigues</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 May 2013 14:13:33 +0200</created>
                <updated>Tue, 14 May 2013 16:16:12 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>application - backoffice</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="10800">3 hours</timeoriginalestimate>
                    <timeestimate seconds="10800">3 hours</timeestimate>
                                          <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10983] (IPL-10783) Create new table "ipaylater_merchant.merchant_configuration_payment_option"</title>
                <link>https://jira.billpay.intern/browse/IPL-10983</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;We have to provide a new table: "ipaylater_merchant.merchant_configuration_payment_option", where we save the conditions (values) for each portal TC/country/currency combination. This new table has the same structure as ipaylater_merchant.merchant_configuration_payment. Primary Key has to be auto increment (Not portal ID)&lt;/p&gt;

&lt;p&gt;Note: ipaylater_merchant.merchant_configuration_payment_option table is maintained directly from IT in the DB. No UI in the BO for these TC-condition-models.&lt;/p&gt;


&lt;p&gt;Add new column to ipaylater_merchant.merchant_configuration,  mrc_transaction_credit_model_name&lt;/p&gt;</description>
                <environment/>
            <key id="25363">IPL-10983</key>
            <summary>(IPL-10783) Create new table "ipaylater_merchant.merchant_configuration_payment_option"</summary>
                <type id="14" iconUrl="https://jira.billpay.intern/images/icons/silk/page_white_edit.png">Dev-ReviewTask</type>
                    <parent id="25088">IPL-10783</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="1" iconUrl="https://jira.billpay.intern/images/icons/silk/user_add.png">Open</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rrodrigues">Ricardo Gomes Rodrigues</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 May 2013 13:17:25 +0200</created>
                <updated>Tue, 14 May 2013 16:25:08 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>application - background</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="7200">2 hours</timeoriginalestimate>
                    <timeestimate seconds="7200">2 hours</timeestimate>
                                          <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10982] (IPL-10808) BO - Adjust order details to display right ECC/PC dialog.</title>
                <link>https://jira.billpay.intern/browse/IPL-10982</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;To decide how we implement conditions,&lt;br/&gt;
for displaying the right&lt;br/&gt;
dialog for order.&lt;br/&gt;
Depending on if it is with process by amount condition.&lt;br/&gt;
Just see the big whit diagram&lt;/p&gt;</description>
                <environment/>
            <key id="25362">IPL-10982</key>
            <summary>(IPL-10808) BO - Adjust order details to display right ECC/PC dialog.</summary>
                <type id="14" iconUrl="https://jira.billpay.intern/images/icons/silk/page_white_edit.png">Dev-ReviewTask</type>
                    <parent id="25113">IPL-10808</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="10012" iconUrl="https://jira.billpay.intern/images/icons/silk/cup.png">Pending</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="wmlynarski">Wieslaw Mlynarski</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 May 2013 13:09:42 +0200</created>
                <updated>Tue, 14 May 2013 15:51:29 +0200</updated>
                                    <version>48. Sprint</version>
                                <fixVersion>49. Sprint</fixVersion>
                                <component>application - backoffice</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="10800">3 hours</timeoriginalestimate>
                    <timeestimate seconds="10800">3 hours</timeestimate>
                                          <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10980] (IPL-10808) BO - Create action bean Save logic for ECC</title>
                <link>https://jira.billpay.intern/browse/IPL-10980</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;Build input and invoke Service created in other ticke&lt;/p&gt;</description>
                <environment/>
            <key id="25360">IPL-10980</key>
            <summary>(IPL-10808) BO - Create action bean Save logic for ECC</summary>
                <type id="14" iconUrl="https://jira.billpay.intern/images/icons/silk/page_white_edit.png">Dev-ReviewTask</type>
                    <parent id="25113">IPL-10808</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="10012" iconUrl="https://jira.billpay.intern/images/icons/silk/cup.png">Pending</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rrodrigues">Ricardo Gomes Rodrigues</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 May 2013 13:00:09 +0200</created>
                <updated>Tue, 14 May 2013 15:51:22 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>application - background</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="39600">1 day, 3 hours</timeoriginalestimate>
                    <timeestimate seconds="39600">1 day, 3 hours</timeestimate>
                                          <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10979] (IPL-10808) BO - Create regression tests for partial activation and cancellation by amount.</title>
                <link>https://jira.billpay.intern/browse/IPL-10979</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;Create new test portal for partial activation.&lt;br/&gt;
Creat test cases fro partial activation by amount.&lt;br/&gt;
Consider diffrent scennarios with the cart.&lt;br/&gt;
Consider negativ case for negeting the partial cancel&lt;/p&gt;


&lt;p&gt;&lt;a href="https://jira.billpay.intern/browse/IPL-10975" title="(IPL-10808) BO - Adjust ipaylater_customer.partial_cancel_order to Decline PC requests when  &amp;quot;No cart&amp;quot;"&gt;IPL-10975&lt;/a&gt; - should be tested, consider scenarios&lt;br/&gt;
with configuration enabled flag (do we have to create a new portal?)&lt;br/&gt;
with on NO_CART item.&lt;/p&gt;</description>
                <environment/>
            <key id="25359">IPL-10979</key>
            <summary>(IPL-10808) BO - Create regression tests for partial activation and cancellation by amount.</summary>
                <type id="14" iconUrl="https://jira.billpay.intern/images/icons/silk/page_white_edit.png">Dev-ReviewTask</type>
                    <parent id="25113">IPL-10808</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="10012" iconUrl="https://jira.billpay.intern/images/icons/silk/cup.png">Pending</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="wmlynarski">Wieslaw Mlynarski</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 May 2013 12:49:54 +0200</created>
                <updated>Tue, 14 May 2013 15:51:18 +0200</updated>
                                    <version>48. Sprint</version>
                                <fixVersion>49. Sprint</fixVersion>
                                <component>testing environment</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="25200">7 hours</timeoriginalestimate>
                    <timeestimate seconds="25200">7 hours</timeestimate>
                                          <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10978] (IPL-10808) BO - Create Item based ECC dialog</title>
                <link>https://jira.billpay.intern/browse/IPL-10978</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;You can use as a base the order_item_changed view and OrderDetails action bean&lt;/p&gt;</description>
                <environment/>
            <key id="25358">IPL-10978</key>
            <summary>(IPL-10808) BO - Create Item based ECC dialog</summary>
                <type id="14" iconUrl="https://jira.billpay.intern/images/icons/silk/page_white_edit.png">Dev-ReviewTask</type>
                    <parent id="25113">IPL-10808</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="10012" iconUrl="https://jira.billpay.intern/images/icons/silk/cup.png">Pending</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rrodrigues">Ricardo Gomes Rodrigues</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 May 2013 12:46:45 +0200</created>
                <updated>Tue, 14 May 2013 15:51:12 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>application - backoffice</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="50400">1 day, 6 hours</timeoriginalestimate>
                    <timeestimate seconds="50400">1 day, 6 hours</timeestimate>
                                          <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10977] (IPL-10808) BO - Create EditCartContent Service for the two cases</title>
                <link>https://jira.billpay.intern/browse/IPL-10977</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;This service will call the existing EditCartContent store procedure class.&lt;br/&gt;
Suggestions:&lt;/p&gt;

&lt;p&gt;Design a interface that will be usable for the BO use.&lt;br/&gt;
The data should be mashaled, for the stored procedure invocation. &lt;br/&gt;
The method signature shuld not pass any xml strings.&lt;/p&gt;
</description>
                <environment/>
            <key id="25357">IPL-10977</key>
            <summary>(IPL-10808) BO - Create EditCartContent Service for the two cases</summary>
                <type id="14" iconUrl="https://jira.billpay.intern/images/icons/silk/page_white_edit.png">Dev-ReviewTask</type>
                    <parent id="25113">IPL-10808</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="10012" iconUrl="https://jira.billpay.intern/images/icons/silk/cup.png">Pending</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rrodrigues">Ricardo Gomes Rodrigues</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 May 2013 12:28:57 +0200</created>
                <updated>Tue, 14 May 2013 15:51:07 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>application - background</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="28800">1 day</timeoriginalestimate>
                    <timeestimate seconds="28800">1 day</timeestimate>
                                          <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10975] (IPL-10808) BO - Adjust ipaylater_customer.partial_cancel_order to Decline PC requests when  "No cart"</title>
                <link>https://jira.billpay.intern/browse/IPL-10975</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;Decline PC requests when the "No cart" condition is true.&lt;/p&gt;

&lt;p&gt;Adjust ipaylater_customer.partial_cancel_order and return new error code and error messages. That way the check will also be done from PCs initiated in the BO (although doing a PC via BO should not be possible anymore because their is no GUI for it anymore).&lt;/p&gt;

&lt;p&gt;Create a helper function 'is_no_cart_order' (main order id)&lt;/p&gt;</description>
                <environment/>
            <key id="25355">IPL-10975</key>
            <summary>(IPL-10808) BO - Adjust ipaylater_customer.partial_cancel_order to Decline PC requests when  "No cart"</summary>
                <type id="14" iconUrl="https://jira.billpay.intern/images/icons/silk/page_white_edit.png">Dev-ReviewTask</type>
                    <parent id="25113">IPL-10808</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="10012" iconUrl="https://jira.billpay.intern/images/icons/silk/cup.png">Pending</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rrodrigues">Ricardo Gomes Rodrigues</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 May 2013 12:00:31 +0200</created>
                <updated>Tue, 14 May 2013 15:51:01 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>application - API</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="14400">4 hours</timeoriginalestimate>
                    <timeestimate seconds="14400">4 hours</timeestimate>
                                          <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10973] (IPL-10807) BO - Fix display logic for activation</title>
                <link>https://jira.billpay.intern/browse/IPL-10973</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;The activation button should show up by the condition described in main ticket.&lt;br/&gt;
Please remember that this task considers, the grid view in the request\orders overview.&lt;br/&gt;
Be sure that the logic should be combined with the current logic. For example when the order is canceled then the button should not show up.&lt;br/&gt;
Test, for &lt;/p&gt;
&lt;ul class="alternate" type="square"&gt;
	&lt;li&gt;not partial activation portal,&lt;/li&gt;
	&lt;li&gt;with partial activation, and  proces by ammount condition is fullfiled&lt;/li&gt;
	&lt;li&gt;with PA and process by amount condition is not fullfiled (flag is false, and in the cart there are no special item)&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment/>
            <key id="25353">IPL-10973</key>
            <summary>(IPL-10807) BO - Fix display logic for activation</summary>
                <type id="14" iconUrl="https://jira.billpay.intern/images/icons/silk/page_white_edit.png">Dev-ReviewTask</type>
                    <parent id="25112">IPL-10807</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="10012" iconUrl="https://jira.billpay.intern/images/icons/silk/cup.png">Pending</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rrodrigues">Ricardo Gomes Rodrigues</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 May 2013 10:33:46 +0200</created>
                <updated>Tue, 14 May 2013 11:59:26 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>application - backoffice</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="18000">5 hours</timeoriginalestimate>
                    <timeestimate seconds="18000">5 hours</timeestimate>
                                          <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10823] (IPL-10807) BO - Create view &amp; adjust display logic for Activation Amount dialog</title>
                <link>https://jira.billpay.intern/browse/IPL-10823</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;Create the the dialog for "Activation Amount" like specified in the main ticket.&lt;/p&gt;

&lt;p&gt;Adjust the function that decides which dialog to show:&lt;/p&gt;


&lt;p&gt;if partial activation is enabled and the main order is a "No cart" order, then display a dialog view where the user can insert the desired amount for activation.&lt;/p&gt;

&lt;p&gt;The maximum amount should be validated, it should be the rest amount for doing full activation.&lt;br/&gt;
Validation server side and client side.&lt;/p&gt;

&lt;p&gt;There are two views.&lt;br/&gt;
One in order details view &lt;br/&gt;
order_detail.jsp&lt;br/&gt;
directInvoiceGrid.tag&lt;br/&gt;
Please be sure that those will have the same or close to same logic.&lt;/p&gt;
</description>
                <environment/>
            <key id="25128">IPL-10823</key>
            <summary>(IPL-10807) BO - Create view &amp; adjust display logic for Activation Amount dialog</summary>
                <type id="14" iconUrl="https://jira.billpay.intern/images/icons/silk/page_white_edit.png">Dev-ReviewTask</type>
                    <parent id="25112">IPL-10807</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="10012" iconUrl="https://jira.billpay.intern/images/icons/silk/cup.png">Pending</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rrodrigues">Ricardo Gomes Rodrigues</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Apr 2013 11:34:51 +0200</created>
                <updated>Tue, 14 May 2013 11:59:22 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>application - backoffice</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="50400">1 day, 6 hours</timeoriginalestimate>
                    <timeestimate seconds="50400">1 day, 6 hours</timeestimate>
                                          <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10822] (IPL-10807) BO - Adjust order items view.</title>
                <link>https://jira.billpay.intern/browse/IPL-10822</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;The order items view should display read only fields for activated by amount orders.&lt;br/&gt;
Adjust the order items view that the fields will be read only.&lt;br/&gt;
Remove cancellation buttons, &lt;img class="emoticon" src="https://jira.billpay.intern/images/icons/emoticons/error.gif" height="16" width="16" align="absmiddle" alt="" border="0"/&gt;-button.&lt;/p&gt;

&lt;p&gt;Test:&lt;br/&gt;
For merchant test, the view!&lt;br/&gt;
With the rights and without the rights.&lt;br/&gt;
For all combinations, to check if there are no regression bugs.&lt;/p&gt;</description>
                <environment/>
            <key id="25127">IPL-10822</key>
            <summary>(IPL-10807) BO - Adjust order items view.</summary>
                <type id="14" iconUrl="https://jira.billpay.intern/images/icons/silk/page_white_edit.png">Dev-ReviewTask</type>
                    <parent id="25112">IPL-10807</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="10012" iconUrl="https://jira.billpay.intern/images/icons/silk/cup.png">Pending</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rrodrigues">Ricardo Gomes Rodrigues</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Apr 2013 11:12:11 +0200</created>
                <updated>Tue, 14 May 2013 11:59:12 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>application - backoffice</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="21600">6 hours</timeoriginalestimate>
                    <timeestimate seconds="21600">6 hours</timeestimate>
                                          <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10821] (IPL-10807) - Adjust DM</title>
                <link>https://jira.billpay.intern/browse/IPL-10821</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;Create boolean column mrc_process_by_amount (default: false)&lt;/p&gt;</description>
                <environment/>
            <key id="25126">IPL-10821</key>
            <summary>(IPL-10807) - Adjust DM</summary>
                <type id="14" iconUrl="https://jira.billpay.intern/images/icons/silk/page_white_edit.png">Dev-ReviewTask</type>
                    <parent id="25112">IPL-10807</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="10012" iconUrl="https://jira.billpay.intern/images/icons/silk/cup.png">Pending</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rrodrigues">Ricardo Gomes Rodrigues</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Apr 2013 11:06:48 +0200</created>
                <updated>Tue, 14 May 2013 11:30:52 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>application - background</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="1800">30 minutes</timeoriginalestimate>
                    <timeestimate seconds="1800">30 minutes</timeestimate>
                                          <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10818] (IPL-10808) BO - Create view for "Amount based ECC" (no cart)</title>
                <link>https://jira.billpay.intern/browse/IPL-10818</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;Create new dialog based on the existing dialog.&lt;/p&gt;

&lt;p&gt;If adding new action bean method in the url, make sure method is secured with proper rights&lt;/p&gt;

&lt;p&gt;No GUI or any other extra validation required.&lt;/p&gt;
</description>
                <environment/>
            <key id="25123">IPL-10818</key>
            <summary>(IPL-10808) BO - Create view for "Amount based ECC" (no cart)</summary>
                <type id="14" iconUrl="https://jira.billpay.intern/images/icons/silk/page_white_edit.png">Dev-ReviewTask</type>
                    <parent id="25113">IPL-10808</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="10012" iconUrl="https://jira.billpay.intern/images/icons/silk/cup.png">Pending</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="rrodrigues">Ricardo Gomes Rodrigues</reporter>
                        <labels>
                    </labels>
                <created>Thu, 25 Apr 2013 10:14:21 +0200</created>
                <updated>Tue, 14 May 2013 17:55:30 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>application - backoffice</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="18000">5 hours</timeoriginalestimate>
                    <timeestimate seconds="18000">5 hours</timeestimate>
                                          <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10956] [Follow-Up Ticket] General Bugs on Lettershop</title>
                <link>https://jira.billpay.intern/browse/IPL-10956</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;h2&gt;&lt;a name="1.ThereisabugwithourLettershop%2CifthecustomerisaB2B...customer."&gt;&lt;/a&gt;1. There is a bug with our Lettershop, if the customer is a B2B ... customer.&lt;/h2&gt;
&lt;div class="panel" style="border-width: 1px;"&gt;&lt;div class="panelContent"&gt;
&lt;p&gt;The first and last name isnt fetched properly (see attachment)&lt;/p&gt;

&lt;p&gt;This example is for Invoice DEU dunning 2 letter.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;TODO&lt;/b&gt;&lt;/p&gt;
&lt;ul class="alternate" type="square"&gt;
	&lt;li&gt;check, why it happens and fix it&lt;/li&gt;
	&lt;li&gt;provide corner test cases, with only the company name and see what happens (check back with Duc)&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;h2&gt;&lt;a name="2.somemorebugs"&gt;&lt;/a&gt;2. some more bugs&lt;/h2&gt;
&lt;div class="panel" style="border-width: 1px;"&gt;&lt;div class="panelContent"&gt;
&lt;p&gt;&lt;b&gt;TODO&lt;/b&gt;&lt;br/&gt;
A. check why "Emp?nger" is occuring (it should be Empfänger)&lt;br/&gt;
B.  Can we display either Kontonummer/BLZ or IBAN/BIC depending on what we are actually sending?&lt;/p&gt;

&lt;p&gt;&lt;img src="https://jira.billpay.intern/secure/attachment/25043/25043_Empf%C3%A4nger_IBAN_BIC.png" align="absmiddle" border="0" /&gt;&lt;/p&gt;

&lt;p&gt;to B. The following data are examples, don't use them!&lt;/p&gt;
&lt;div class="code panel" style="border-width: 1px;"&gt;&lt;div class="codeContent panelContent"&gt;
&lt;pre class="code-java"&gt;
Empfänger: Billpay GmbH
Kontonummer: 3455106849
Bankleitzahl: 10050000
Bank: Berliner Sparkasse
Verwendungszweck: BP49135/3058

OR

Empfänger: Billpay GmbH
IBAN: DE89370400440532013000
BIC: DEUTDEFF500
Bank: Berliner Sparkasse
Verwendungszweck: BP49135/3058
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment/>
            <key id="25336">IPL-10956</key>
            <summary>[Follow-Up Ticket] General Bugs on Lettershop</summary>
                <type id="13" iconUrl="https://jira.billpay.intern/images/icons/silk/bug.png">Dev-Bug</type>
                    <parent id="25254">IPL-10931</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="1" iconUrl="https://jira.billpay.intern/images/icons/silk/user_add.png">Open</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="dnguyen">Duc Hoang Nguyen</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 May 2013 11:13:40 +0200</created>
                <updated>Tue, 14 May 2013 18:30:18 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>application - background</component>
                        <due/>
                    <votes>0</votes>
                        <watches>3</watches>
                          <timeoriginalestimate seconds="14400">4 hours</timeoriginalestimate>
                    <timeestimate seconds="14400">4 hours</timeestimate>
                                  <comments>
                    <comment id="46532" author="jwehrs" created="Mon, 13 May 2013 11:53:46 +0200">We always have first name and last name, also for B2B requests. But in case of B2B the data is stored in a different place:
&lt;br/&gt;

&lt;br/&gt;
&amp;nbsp;&amp;nbsp;cc_contact_person_firstname
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;cc_contact_person_lastname
&lt;br/&gt;
&amp;nbsp;&amp;nbsp;cc_contact_person_gender 
&lt;br/&gt;

&lt;br/&gt;
In order to determine whether it is a B2B or a B2C request, use cdr_request_customer_group and NOT c_customer_group!</comment>
                    <comment id="46533" author="jwehrs" created="Mon, 13 May 2013 12:01:03 +0200">This bug should have been fixed a long time ago. Needs to be checked again.</comment>
                </comments>
                    <attachments>
                    <attachment id="25023" name="5975079-dunning-2.pdf" size="11824" author="dnguyen" created="Mon, 13 May 2013 11:13:40 +0200"/>
                    <attachment id="25043" name="Empfänger_IBAN_BIC.png" size="49636" author="dnguyen" created="Mon, 13 May 2013 16:43:17 +0200"/>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10933] Refactor BillpayOrderState enum</title>
                <link>https://jira.billpay.intern/browse/IPL-10933</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;&lt;b&gt;IS:&lt;/b&gt;&lt;br/&gt;
The enum is a combination of values from tables rating_validation_state and pre_validation_states. Right now we are using this enum for translation purpose in the backoffice. &lt;/p&gt;

&lt;p&gt;&lt;b&gt;SHOULD BE:&lt;/b&gt;&lt;br/&gt;
Remove this enum and replace it with a generic mechanism that loads the values from the tables. prevalidation states are already in the cache and ready to use, rating validation states not yet. Adjust translation files to use the names from pvs_detail and rvs_info.&lt;/p&gt;</description>
                <environment/>
            <key id="25256">IPL-10933</key>
            <summary>Refactor BillpayOrderState enum</summary>
                <type id="13" iconUrl="https://jira.billpay.intern/images/icons/silk/bug.png">Dev-Bug</type>
                    <parent id="25254">IPL-10931</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="10012" iconUrl="https://jira.billpay.intern/images/icons/silk/cup.png">Pending</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="jwehrs">Jan Wehrs</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 May 2013 12:27:16 +0200</created>
                <updated>Tue, 14 May 2013 18:07:27 +0200</updated>
                                    <version>47. Sprint</version>
                                <fixVersion>Management Backlog</fixVersion>
                <fixVersion>49. Sprint</fixVersion>
                                <component>application - backoffice</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                                                            <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10932] Refactor prestate/mainstate/poststate mapping</title>
                <link>https://jira.billpay.intern/browse/IPL-10932</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;remove PreStateType/StateType/PostStateType enums and all related mapping code. &lt;/p&gt;

&lt;p&gt;These static mappings are not necessary and they make adding new states (which is a common thing we do) unflexible. &lt;/p&gt;</description>
                <environment/>
            <key id="25255">IPL-10932</key>
            <summary>Refactor prestate/mainstate/poststate mapping</summary>
                <type id="13" iconUrl="https://jira.billpay.intern/images/icons/silk/bug.png">Dev-Bug</type>
                    <parent id="25254">IPL-10931</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="10012" iconUrl="https://jira.billpay.intern/images/icons/silk/cup.png">Pending</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="jwehrs">Jan Wehrs</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 May 2013 12:18:27 +0200</created>
                <updated>Tue, 14 May 2013 18:05:04 +0200</updated>
                                    <version>48. Sprint</version>
                                <fixVersion>49. Sprint</fixVersion>
                                <component>application - API</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="10800">3 hours</timeoriginalestimate>
                    <timeestimate seconds="10800">3 hours</timeestimate>
                                          <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>

<item>
            <title>[IPL-10927] Sequence of partial cancel and EditCart content does not work</title>
                <link>https://jira.billpay.intern/browse/IPL-10927</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;For order /OrderDetail.action?orderId=5888287,&lt;br/&gt;
again there was a broken order.&lt;br/&gt;
Sequence of request for Edit Cart Content and Partial Cancel.&lt;br/&gt;
Made the cart broken.&lt;br/&gt;
Create a test case for this issue. &lt;br/&gt;
There is one already existing. &lt;/p&gt;

&lt;p&gt;Important: The order was manualy fixed on live.&lt;br/&gt;
To reproduce we need to find the requests from the logs.&lt;/p&gt;

&lt;p&gt;In the customer order items.&lt;br/&gt;
After Partial cancel of one item, on the main order the partial canceled item was redurced by -1 and on the suborder the item was reduced by -2. items.&lt;/p&gt;

</description>
                <environment/>
            <key id="25250">IPL-10927</key>
            <summary>Sequence of partial cancel and EditCart content does not work</summary>
                <type id="13" iconUrl="https://jira.billpay.intern/images/icons/silk/bug.png">Dev-Bug</type>
                    <parent id="25254">IPL-10931</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="10012" iconUrl="https://jira.billpay.intern/images/icons/silk/cup.png">Pending</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="wmlynarski">Wieslaw Mlynarski</reporter>
                        <labels>
                    </labels>
                <created>Tue, 7 May 2013 11:05:52 +0200</created>
                <updated>Tue, 14 May 2013 18:30:41 +0200</updated>
                                    <version>47. Sprint</version>
                                <fixVersion>49. Sprint</fixVersion>
                                <component>application - API</component>
                <component>application - background</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="14400">4 hours</timeoriginalestimate>
                    <timeestimate seconds="14400">4 hours</timeestimate>
                                          <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_10072" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                <customfieldname>Software Function</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10202"><![CDATA[inconsistency]]></customfieldvalue>

                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>

<item>
            <title>[IPL-9821] Adjustments for merchant invoice CSV</title>
                <link>https://jira.billpay.intern/browse/IPL-9821</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;1) Sometimes dates and the country is missing (e.g. for full cancel rows and payments on the main order)&lt;br/&gt;
2) "Bestelldatum" and "Aktivierungsdatum" are always set to the same day.&lt;br/&gt;
3) Don't show rows for prescore fees&lt;/p&gt;

&lt;p&gt;1) and 2) exist since the introduction of Partial Activation. The generation of the CSV file still relies on the debt object only and doesn't take into account that when dealing with the main order there is no debt object.&lt;/p&gt;

&lt;p&gt;An Example for 1) and 2) is attached.&lt;/p&gt;


&lt;p&gt;&lt;b&gt;TODO:&lt;/b&gt;&lt;/p&gt;
&lt;ul class="alternate" type="square"&gt;
	&lt;li&gt;rewrite queries in ipaylater_merchant.get_merchant_invoice_as_csv&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment/>
            <key id="23713">IPL-9821</key>
            <summary>Adjustments for merchant invoice CSV</summary>
                <type id="13" iconUrl="https://jira.billpay.intern/images/icons/silk/bug.png">Dev-Bug</type>
                    <parent id="25254">IPL-10931</parent>
                        <priority id="3" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_green.png">3 (Wichtig)</priority>
                    <status id="10012" iconUrl="https://jira.billpay.intern/images/icons/silk/cup.png">Pending</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="svetter">Sebastian Vetter</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Feb 2013 10:44:01 +0100</created>
                <updated>Tue, 14 May 2013 18:29:55 +0200</updated>
                                                    <fixVersion>Management Backlog</fixVersion>
                <fixVersion>49. Sprint</fixVersion>
                                <component>application - backoffice</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="36000">1 day, 2 hours</timeoriginalestimate>
                    <timeestimate seconds="36000">1 day, 2 hours</timeestimate>
                                  <comments>
                    <comment id="42584" author="dpaufler" created="Mon, 11 Feb 2013 10:46:46 +0100">example missing :(</comment>
                    <comment id="42587" author="svetter" created="Mon, 11 Feb 2013 10:47:52 +0100">Attached it now</comment>
                    <comment id="43321" author="jwehrs" created="Sat, 23 Feb 2013 02:52:11 +0100">is a relict from partial activation.&lt;br/&gt;
&lt;br/&gt;
ipaylater_merchant.get_merchant_invoice_as_csv needs to be fixed. It&amp;#39;s still relying on the debt object.</comment>
                </comments>
                <issuelinks>
                        <issuelinktype id="10020">
                <name>association</name>
                                                <inwardlinks description="belongs">
                            <issuelink>
            <issuekey id="22769">IPL-8895</issuekey>
        </issuelink>
                    </inwardlinks>
                            </issuelinktype>
                    </issuelinks>
                <attachments>
                    <attachment id="22186" name="G2013_01666.csv" size="135476" author="svetter" created="Mon, 11 Feb 2013 10:46:25 +0100"/>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                <customfield id="customfield_10072" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                <customfieldname>Software Function</customfieldname>
                <customfieldvalues>
                        <customfieldvalue key="10203"><![CDATA[merchant invoice]]></customfieldvalue>

                </customfieldvalues>
            </customfield>
                            </customfields>
    </item>

<item>
            <title>[IPL-10784] Update Dunning 2 Fee for Invoice-  for EUR-DEU/EUR-AT</title>
                <link>https://jira.billpay.intern/browse/IPL-10784</link>
                <project id="10070" key="IPL">Billpay IT</project>
                        <description>&lt;p&gt;Update all dunning fee 2 for &lt;b&gt;Invoice DEU/AUT (EUR)&lt;/b&gt; from 5 Euro to &lt;b&gt;6 Euro&lt;/b&gt;, where dunning fee 2 is 5 Euro. &lt;br/&gt;
Note: All other values than 5 Euro, the dunning fee 2 stay as they are -&amp;gt; no update. (Because they have special agreements with us)&lt;br/&gt;
Note: Apply for factoring and non-factoring -&amp;gt; 6 Euro!&lt;/p&gt;

&lt;p&gt;Set default value also to 6 Euro for dunning 2 - INV DEU/AUT (EUR)&lt;/p&gt;


</description>
                <environment/>
            <key id="25089">IPL-10784</key>
            <summary>Update Dunning 2 Fee for Invoice-  for EUR-DEU/EUR-AT</summary>
                <type id="13" iconUrl="https://jira.billpay.intern/images/icons/silk/bug.png">Dev-Bug</type>
                    <parent id="25254">IPL-10931</parent>
                        <priority id="4" iconUrl="https://jira.billpay.intern/images/icons/silk/flag_blue.png">4 (nicht vergessen)</priority>
                    <status id="10012" iconUrl="https://jira.billpay.intern/images/icons/silk/cup.png">Pending</status>
                    <resolution id="-1">Unresolved</resolution>
                                <assignee username="-1">Unassigned</assignee>
                                <reporter username="sbrauer">Sven Brauer</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Apr 2013 23:47:59 +0200</created>
                <updated>Tue, 14 May 2013 16:32:11 +0200</updated>
                                                    <fixVersion>49. Sprint</fixVersion>
                                <component>application - background</component>
                        <due/>
                    <votes>0</votes>
                        <watches>2</watches>
                          <timeoriginalestimate seconds="10800">3 hours</timeoriginalestimate>
                    <timeestimate seconds="10800">3 hours</timeestimate>
                                          <attachments>
                </attachments>
            <subtasks>
        </subtasks>
                <customfields>
                                    </customfields>
    </item>
</channel>
</rss>